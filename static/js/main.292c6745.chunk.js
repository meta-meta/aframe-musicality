(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{69:function(e,t,n){e.exports=n(89)},89:function(e,t,n){"use strict";n.r(t);var a=n(50),r=n(17),i=(n(70),n(71),n(119)),c=n(7),o=n.n(c),l=n(0),u=n.n(l),s=n(5),m=Object(s.a)({root:{fontSize:20,fontFamily:"jetBrainsMono",display:"inline-flex",height:30,width:30,alignItems:"center",justifyContent:"center"},el:{fontFamily:"Segoe UI"},odd:{left:15,position:"relative"}})(function(e){var t=e.children,n=e.classes,a=e.className,r=void 0===a?"":a,i=e.isOdd;return u.a.createElement("div",{className:"".concat(n.root," ").concat(r," ").concat(i?n.odd:"")},t)}),d=function(e){return{10:"\u0aea",11:"\u0190"}[e%12]||e%12},p=Object(s.a)({el:{fontFamily:"Segoe UI"}})(function(e){var t=e.classes,n=e.n,a=e.isOdd;return u.a.createElement(m,{className:11===n?t.el:"",isOdd:a},d(n))}),f=function(){return["0","","","","","5","","7","","","","","12","","","15","","17","","19","","","","","24"].map(function(e,t){return u.a.createElement(m,{key:t},e)})},E=function(){return u.a.createElement("div",{style:{display:"block",flexShrink:0}},u.a.createElement(f,null),u.a.createElement("br",null),[4,11,7,2,9,4].map(function(e){return u.a.createElement(u.a.Fragment,null,o.a.range(25).map(function(t){return(t+e)%12}).map(function(e,t){return u.a.createElement(p,{key:t,n:e})}),u.a.createElement("br",null))}),u.a.createElement(f,null))},h=function(){return u.a.createElement(u.a.Fragment,null,o.a.range(6).map(function(e){return u.a.createElement("pre",null,o.a.range(13).map(function(t){return u.a.createElement(u.a.Fragment,null,o.a.range(13).map(function(n){return u.a.createElement("span",{key:n,style:{padding:3}},d(e+n*t))}),u.a.createElement("br",null))}))}))},v=n(55),y=n(56),g=n(62),b=n(57),k=n(58),M=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},n.handleKeyPress=function(e){var t={Backquote:"0",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"\u0aea",Minus:"\u0190",Equal:"0",Numpad0:"0",Numpad1:"1",Numpad2:"2",Numpad3:"3",Numpad4:"4",Numpad5:"5",Numpad6:"6",Numpad7:"7",Numpad8:"8",Numpad9:"9",NumpadDivide:"\u0aea",NumpadMultiply:"\u0190",NumpadDecimal:" ",NumpadEnter:"\n",Enter:"\n",Space:" "}[e.code];t&&(e.preventDefault(),n.setState({text:n.state.text+t}))},n.handleChange=function(e){var t=e.target.value;return n.setState({text:t})},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypress",this.handleKeyPress)}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h3",null,"Use the numpad to enter pitch classes"),u.a.createElement("textarea",{cols:24,rows:20,onChange:this.handleChange,style:{background:"black",color:"darkgray",fontSize:20},value:this.state.text}))}}]),t}(l.Component),j=n(42),w=n.n(j),O=n(6),x=n.n(O),D=function(){return u.a.createElement("div",{style:{display:"block",flexShrink:0}},o.a.range(30).map(function(e){return u.a.createElement(u.a.Fragment,null,o.a.range(50).map(function(t){var n=((e%2>0?(e-1)/2*11+3:e/2*11)+7*t)%12;return u.a.createElement(p,{key:t,n:n,isOdd:e%2===1})}),u.a.createElement("br",null))}))},I=n(117);function S(e,t,n){var a,r,i,c,o,l,u,s;switch(1===arguments.length&&(t=e.s,n=e.v,e=e.h),l=n*(1-t),u=n*(1-(o=6*e-(c=Math.floor(6*e)))*t),s=n*(1-(1-o)*t),c%6){case 0:a=n,r=s,i=l;break;case 1:a=u,r=n,i=l;break;case 2:a=l,r=n,i=s;break;case 3:a=l,r=u,i=n;break;case 4:a=s,r=l,i=n;break;case 5:a=n,r=l,i=u}return function(e){var t=e.r,n=e.g,a=e.b;function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t)+r(n)+r(a)}({r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*i)})}var N=function(e){var t=e.n,n=e.midiIn,a=e.position,r=void 0===a?"0 0 0":a,i=e.scale,c=void 0===i?"1 1 1":i;return u.a.createElement("a-sphere",{color:"black",opacity:.3,position:r,radius:.15,scale:c},u.a.createElement("a-text",{align:"center",color:S(t/12,.75,1),font:"../unifont-12.1.04-msdf.json",negate:"false","look-at":"#camera",opacity:n?1:.25,value:d(t)}))},C=n(63),P={input:void 0,inputDevices:[],isDeviceSelectorVisible:!1,midiIn:o.a.zipObject(o.a.range(128),o.a.fill(new Array(128),0))},T={setInputDevice:function(e,t){var n=e.state.counter+t;e.setState({counter:n})},setInputDevices:function(e,t){return e.setState({inputDevices:t})},setMidiEvent:function(e,t){return e.setState({midiIn:o.a.merge(e.state.midiIn,t)})},toggleDeviceSelector:function(e){return e.setState({isDeviceSelectorVisible:!e.state.isDeviceSelectorVisible})}},z=Object(C.a)(u.a,P,T),F=n(11),L=function(){var e=Object(l.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1];Object(l.useEffect)(function(){var e=function(e){"r"===e.key&&a(function(e){return!e})};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}},[]);var i=z(),c=Object(r.a)(i,1)[0].midiIn,s=o()(12).range().map(function(e){return o()(c).pickBy(function(t,n){return n%12===e}).values().sum()}).value();return u.a.createElement(F.Entity,{animation:"property: rotation; to: 0 ".concat(n?180:0," 0; dur: 500;")},o()(12).range().filter(function(e){return e%2==0}).map(function(e){return{n:e,r:1.5,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var t=e.n,n=e.r,a=e.x,r=e.y;return u.a.createElement(N,{midiIn:s[t],n:t,position:"".concat(n*a," ").concat(n*r," 0")})}).value(),o()(48).range().filter(function(e){return!o.a.includes([6,7,0,1],e%8)}).map(function(e,t){return{i:t,n:(2*(t+1)+2*Math.floor(t/4))%12,r:1.5,x:Math.sin((e+.5)*Math.PI/24),y:Math.cos((e+.5)*Math.PI/24)}}).map(function(e){var t=e.n,n=e.r,a=e.x,r=e.y;return u.a.createElement(N,{midiIn:s[t],n:t,position:"".concat(n*a," ").concat(n*r," 0"),scale:"0.5 0.5 0.5"})}).value(),o()(12).range().filter(function(e){return e%2!=0}).map(function(e){return{n:(e+6)%12,r:1.2,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var t=e.n,n=e.r,a=e.x,r=e.y;return u.a.createElement(N,{midiIn:s[t],n:t,position:"".concat(n*a," ").concat(n*r," 0")})}).value(),o()(48).range().filter(function(e){return!o.a.includes([4,5,6,7],e%8)}).map(function(e,t){return{i:t,n:(2*t+9+2*Math.floor(t/4))%12,r:1.2,x:Math.sin((e-1.5)*Math.PI/24),y:Math.cos((e-1.5)*Math.PI/24)}}).map(function(e){var t=e.n,n=e.r,a=e.x,r=e.y;return u.a.createElement(N,{midiIn:s[t],n:t,position:"".concat(n*a," ").concat(n*r," 0"),scale:"0.5 0.5 0.5"})}).value())},U=n(45),V=1.3305869973355013,q=2.152934986677507,A=[[0,-q,V],[0,q,-V],[q,-V,0],[-q,V,0],[0,-q,-V],[0,q,V],[-q,-V,0],[q,V,0],[-V,0,q],[V,0,-q],[V,0,q],[-V,0,-q]],B=function e(t){var n=t.rep,a=void 0===n?1:n,r=t.sat,i=t.stack,c=void 0===i?[]:i,o=t.n,l=void 0===o?0:o;return u.a.createElement(F.Entity,{position:"0 0 0"},A.map(function(e,t){return u.a.createElement(F.Entity,{key:t,color:S(t*(1/12),r||1,1),events:{click:function(){return console.log(t)}},primitive:"a-sphere",position:e.join(" "),scale:[1,1,1].map(function(e){return.3*e/(a*a)}).join(" ")})}),a<3&&A.map(function(t,n){return u.a.createElement(F.Entity,{key:n,position:t.map(function(e){return 2*e}).join(" "),text:"color: ".concat(S((c.length?c[c.length-1]:n)*(1/12),1,1),"; align: center; value: ").concat([].concat(Object(U.a)(c),[n]).join(",")," - ").concat((l+n)%12,"; width: 5; zOffset: 0")},u.a.createElement(e,{rep:a+1,sat:.3,stack:[].concat(Object(U.a)(c),[n]),n:(l+n)%12}))}))},K=n(21),J=function(e){var t=e.match.path;return u.a.createElement(F.Scene,null,u.a.createElement("a-assets",null,u.a.createElement("img",{id:"groundTexture",src:"https://cdn.aframe.io/a-painter/images/floor.jpg"}),u.a.createElement("img",{id:"skyTexture",src:"https://cdn.aframe.io/a-painter/images/sky.jpg"})),u.a.createElement(K.c,null,u.a.createElement(K.a,{path:"".concat(t,"/coltrane"),component:L}),u.a.createElement(K.a,{path:"".concat(t,"/dod"),component:B})),u.a.createElement(F.Entity,{height:"2048",primitive:"a-sky",radius:"30",rotation:"90 0 0",src:"#skyTexture","theta-length":"90",width:"2048"}),u.a.createElement(F.Entity,{height:"2048",primitive:"a-sky",radius:"30",rotation:"90 0 180",src:"#skyTexture","theta-length":"90",width:"2048"}),u.a.createElement(F.Entity,{primitive:"a-camera",id:"camera",position:"0 0 2"},u.a.createElement(F.Entity,{primitive:"a-cursor",animation__click:{property:"scale",startEvents:"click",from:"0.1 0.1 0.1",to:"1 1 1",dur:150}})))},W=n(120),_=n(121),G=n(122),H=n(123),R=n(125),Q=n(31),X=n(61),Y=n(118),Z=n(124);x.a.render(u.a.createElement(function(){var e=Object(I.a)("(prefers-color-scheme: dark)"),t=u.a.useMemo(function(){return Object(X.a)({palette:{action:{active:"#660000"},primary:{main:"#440044"},type:e?"dark":"light"}})},[e]),n=u.a.useState(null),a=Object(r.a)(n,2),c=a[0],o=a[1],l=function(){return o(null)};return u.a.createElement(Y.a,{theme:t},u.a.createElement(i.a,null),u.a.createElement(Q.a,{basename:"/aframe-musicality"},u.a.createElement(K.a,{path:"/",exact:!0,render:function(e){return u.a.createElement("h1",null,"Hello World")}}),u.a.createElement(K.a,{path:"/vr",render:function(e){return u.a.createElement(J,e)}}),u.a.createElement(K.a,{path:"/multTableMod12",render:h}),u.a.createElement(K.a,{path:"/numpadMod12",render:function(){return u.a.createElement(M,null)}}),u.a.createElement(K.a,{path:"/tonnetz",render:D}),u.a.createElement(K.a,{path:"/guitar",render:E}),u.a.createElement(W.a,{position:"fixed",style:{top:"auto",bottom:0}},u.a.createElement(_.a,null,u.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(e){var t=e.currentTarget;return o(t)}},u.a.createElement(Z.a,null)),u.a.createElement(H.a,{anchorEl:c,open:!!c,onClose:l},u.a.createElement(R.a,{disabled:!0},"2D"),[["Numpad","/numpadMod12"],["Mod 12 Multiplication Tables","/multTableMod12"],["Tonnetz","/tonnetz"],["Guitar","/guitar"]].map(function(e,t){var n=Object(r.a)(e,2),a=n[0],i=n[1];return u.a.createElement(R.a,{key:t},u.a.createElement(Q.b,{style:{color:"pink"},onClick:l,to:i},a))}),u.a.createElement(R.a,{divider:!0}),u.a.createElement(R.a,{disabled:!0},"VR"),[["Coltrane Circle","/vr/coltrane"],["Dod","/vr/dod"]].map(function(e,t){var n=Object(r.a)(e,2),a=n[0],i=n[1];return u.a.createElement(R.a,{key:t},u.a.createElement(Q.b,{style:{color:"cyan"},onClick:l,to:i},a))}))))))},null),document.querySelector("#sceneContainer"));var $=new w.a;$.open(),window.osc=$,window.sendOsc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $.send(Object(a.a)(w.a.Message,[e].concat(n)))}}},[[69,1,2]]]);
//# sourceMappingURL=main.292c6745.chunk.js.map