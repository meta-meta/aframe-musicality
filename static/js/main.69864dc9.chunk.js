(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(13),c=n(16),i=n(14),o=n(17),l=(n(30),n(31),n(1)),u=n.n(l),s=n(22),m=n(4),p=n(0),d=n.n(p);function h(e,t,n){var a,r,c,i,o,l,u,s;switch(1===arguments.length&&(t=e.s,n=e.v,e=e.h),l=n*(1-t),u=n*(1-(o=6*e-(i=Math.floor(6*e)))*t),s=n*(1-(1-o)*t),i%6){case 0:a=n,r=s,c=l;break;case 1:a=u,r=n,c=l;break;case 2:a=l,r=n,c=s;break;case 3:a=l,r=u,c=n;break;case 4:a=s,r=l,c=n;break;case 5:a=n,r=l,c=u}return function(e){var t=e.r,n=e.g,a=e.b;function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t)+r(n)+r(a)}({r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*c)})}var f=1.3305869973355013,E=2.152934986677507,g=[[0,-E,f],[0,E,-f],[E,-f,0],[-E,f,0],[0,-E,-f],[0,E,f],[-E,-f,0],[E,f,0],[-f,0,E],[f,0,-E],[f,0,E],[-f,0,-E]],v=function e(t){var n=t.rep,a=void 0===n?1:n,r=t.sat,c=t.stack,i=void 0===c?[]:c,o=t.n,l=void 0===o?0:o;return d.a.createElement(m.Entity,{position:"0 0 0"},g.map(function(e,t){return d.a.createElement(m.Entity,{key:t,color:h(t*(1/12),r||1,1),events:{click:function(){return console.log(t)}},primitive:"a-sphere",position:e.join(" "),scale:[1,1,1].map(function(e){return.3*e/(a*a)}).join(" ")})}),a<3&&g.map(function(t,n){return d.a.createElement(m.Entity,{key:n,position:t.map(function(e){return 2*e}).join(" "),text:"color: ".concat(h((i.length?i[i.length-1]:n)*(1/12),1,1),"; align: center; value: ").concat([].concat(Object(s.a)(i),[n]).join(",")," - ").concat((l+n)%12,"; width: 5; zOffset: 0")},d.a.createElement(e,{rep:a+1,sat:.3,stack:[].concat(Object(s.a)(i),[n]),n:(l+n)%12}))}))},y=function(e){return{10:"\u0aea",11:"\u0190"}[e%12]||e%12},b=function(){return d.a.createElement(d.a.Fragment,null,u.a.range(6).map(function(e){return d.a.createElement("pre",null,u.a.range(13).map(function(t){return d.a.createElement(d.a.Fragment,null,u.a.range(13).map(function(n){return d.a.createElement("span",{key:n,style:{padding:3}},y(e+n*t))}),d.a.createElement("br",null))}))}))},k=function(){return d.a.createElement("pre",{style:{lineHeight:3}},u.a.range(20).map(function(e){return d.a.createElement(d.a.Fragment,null,e%2>0&&d.a.createElement("span",{style:{paddingRight:21}}," "),u.a.range(30).map(function(t){return d.a.createElement("span",{key:t,style:{padding:21}},y((e%2>0?(e-1)/2*11+3:e/2*11)+7*t))}),d.a.createElement("br",null))}))},M=n(25),j=n.n(M),I=n(15),x=n(26),O=function(e){var t=e.n,n=e.midiIn,a=e.position,r=void 0===a?"0 0 0":a,c=e.scale,i=void 0===c?"1 1 1":c;return d.a.createElement("a-sphere",{color:"black",opacity:.3,position:r,radius:.15,scale:i},d.a.createElement("a-text",{align:"center",color:h(t/12,1,1),"look-at":"#camera",opacity:n?1:.25,value:t}))},w=n(9),P=n.n(w),T=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={midiIn:u.a.zipObject(u.a.range(128),u.a.fill(new Array(128),0))},n.handleMidi=function(e){var t=e.note.number;console.log(t),n.setState({midiIn:Object(x.a)({},n.state.midiIn,Object(I.a)({},t,"noteon"===e.type?e.rawVelocity:0))})},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.enable(function(t){t?console.error(t):console.log("WebMidi enabled."),console.log(P.a.inputs),P.a.inputs[0]&&(P.a.inputs[0].addListener("noteon","all",e.handleMidi),P.a.inputs[0].addListener("noteoff","all",e.handleMidi))})}},{key:"render",value:function(){var e=this,t=u()(12).range().map(function(t){return u()(e.state.midiIn).pickBy(function(e,n){return n%12===t}).values().sum()}).value();return d.a.createElement(m.Entity,null,u()(12).range().filter(function(e){return e%2==0}).map(function(e){return{n:e,r:1.5,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var n=e.n,a=e.r,r=e.x,c=e.y;return d.a.createElement(O,{midiIn:t[n],n:n,position:"".concat(a*r," ").concat(a*c," 0")})}).value(),u()(48).range().filter(function(e){return!u.a.includes([6,7,0,1],e%8)}).map(function(e,t){return{i:t,n:(2*(t+1)+2*Math.floor(t/4))%12,r:1.5,x:Math.sin((e+.5)*Math.PI/24),y:Math.cos((e+.5)*Math.PI/24)}}).map(function(e){var n=e.n,a=e.r,r=e.x,c=e.y;return d.a.createElement(O,{midiIn:t[n],n:n,position:"".concat(a*r," ").concat(a*c," 0"),scale:"0.5 0.5 0.5"})}).value(),u()(12).range().filter(function(e){return e%2!=0}).map(function(e){return{n:(e+6)%12,r:1.2,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var n=e.n,a=e.r,r=e.x,c=e.y;return d.a.createElement(O,{midiIn:t[n],n:n,position:"".concat(a*r," ").concat(a*c," 0")})}).value(),u()(48).range().filter(function(e){return!u.a.includes([4,5,6,7],e%8)}).map(function(e,t){return{i:t,n:(2*t+9+2*Math.floor(t/4))%12,r:1.2,x:Math.sin((e-1.5)*Math.PI/24),y:Math.cos((e-1.5)*Math.PI/24)}}).map(function(e){var n=e.n,a=e.r,r=e.x,c=e.y;return d.a.createElement(O,{midiIn:t[n],n:n,position:"".concat(a*r," ").concat(a*c," 0"),scale:"0.5 0.5 0.5"})}).value())}}]),t}(d.a.Component),z=n(7),C=n(10),S=function(e){var t=e.match.path;return d.a.createElement(m.Scene,null,d.a.createElement("a-assets",null,d.a.createElement("img",{id:"groundTexture",src:"https://cdn.aframe.io/a-painter/images/floor.jpg"}),d.a.createElement("img",{id:"skyTexture",src:"https://cdn.aframe.io/a-painter/images/sky.jpg"})),d.a.createElement(z.c,null,d.a.createElement(z.a,{path:"".concat(t,"/coltrane"),component:T}),d.a.createElement(z.a,{path:"".concat(t,"/dod"),component:v})),d.a.createElement(m.Entity,{height:"2048",primitive:"a-sky",radius:"30",rotation:"90 0 0",src:"#skyTexture","theta-length":"90",width:"2048"}),d.a.createElement(m.Entity,{height:"2048",primitive:"a-sky",radius:"30",rotation:"90 0 180",src:"#skyTexture","theta-length":"90",width:"2048"}),d.a.createElement(m.Entity,{primitive:"a-camera",id:"camera",position:"0 0 2"},d.a.createElement(m.Entity,{primitive:"a-cursor",animation__click:{property:"scale",startEvents:"click",from:"0.1 0.1 0.1",to:"1 1 1",dur:150}})))},F=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return d.a.createElement(C.a,null,d.a.createElement(z.a,{path:"/",exact:!0,render:function(e){return d.a.createElement("h1",null,"Hello World")}}),d.a.createElement(z.a,{path:"/multTableMod12",render:b}),d.a.createElement(z.a,{path:"/tonnetz",render:k}),d.a.createElement(z.a,{path:"/vr",render:S}),d.a.createElement("div",{style:{background:"black",bottom:0,color:"white",position:"absolute"}},d.a.createElement(C.b,{to:"/multTableMod12"},"MultTable"),"-",d.a.createElement(C.b,{to:"/tonnetz"},"Tonnetz"),"--",d.a.createElement(C.b,{to:"/vr/coltrane"},"Coltrane Circle"),"-",d.a.createElement(C.b,{to:"/vr/dod"},"Dod")))}}]),t}(d.a.Component);j.a.render(d.a.createElement(F,null),document.querySelector("#sceneContainer"))}},[[29,1,2]]]);
//# sourceMappingURL=main.69864dc9.chunk.js.map