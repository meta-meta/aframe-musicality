{"version":3,"sources":["color.js","dod.js","multTableMod12.js","tonnetz.js","pitchClass.js","midi.js","index.js"],"names":["HSVtoHex","h","s","v","r","g","b","i","f","p","q","t","arguments","length","Math","floor","_ref","componentToHex","c","hex","toString","rgbToHex","round","c1","c2","verts","Dod","_ref$rep","rep","sat","_ref$stack","stack","_ref$n","n","react_default","a","createElement","dist","position","map","key","color","events","click","console","log","primitive","join","scale","text","concat","Object","toConsumableArray","MultTableMod12","Fragment","_","range","y","x","style","padding","padStart","Tonnetz","lineHeight","paddingRight","pitchClass","midiIn","_ref$position","_ref$scale","opacity","radius","align","look-at","value","Midi","state","zipObject","fill","Array","handleMidi","e","note","number","_this","setState","objectSpread","defineProperty","type","rawVelocity","_this2","this","WebMidi","enable","err","error","inputs","addListener","_this3","midiInPitchClasses","pickBy","values","sum","filter","sin","PI","cos","includes","_ref2","_ref3","_ref4","React","Component","VR","path","match","id","src","react_router","component","height","rotation","theta-length","width","animation__click","property","startEvents","from","to","dur","App","react_router_dom","exact","render","routerProps","background","bottom","ReactDOM","src_App","document","querySelector"],"mappings":"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","file":"static/js/main.df128d1c.chunk.js","sourcesContent":["export function HSVtoHex(h, s, v) {\r\n  function rgbToHex({ r, g, b }) {\r\n    function componentToHex(c) {\r\n      var hex = c.toString(16);\r\n      return hex.length == 1 ? \"0\" + hex : hex;\r\n    }\r\n\r\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n  }\r\n\r\n  var r, g, b, i, f, p, q, t;\r\n  if (arguments.length === 1) {\r\n    s = h.s;\r\n    v = h.v;\r\n    h = h.h;\r\n  }\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: {\r\n      r = v;\r\n      g = t;\r\n      b = p;\r\n      break;\r\n    }\r\n    case 1: {\r\n      r = q;\r\n      g = v;\r\n      b = p;\r\n      break;\r\n    }\r\n    case 2: {\r\n      r = p;\r\n      g = v;\r\n      b = t;\r\n      break;\r\n    }\r\n    case 3: {\r\n      r = p;\r\n      g = q;\r\n      b = v;\r\n      break;\r\n    }\r\n    case 4: {\r\n      r = t;\r\n      g = p;\r\n      b = v;\r\n      break;\r\n    }\r\n    case 5: {\r\n      r = v;\r\n      g = p;\r\n      b = q;\r\n      break;\r\n    }\r\n  }\r\n  return rgbToHex({\r\n    r: Math.round(r * 255),\r\n    g: Math.round(g * 255),\r\n    b: Math.round(b * 255)\r\n  });\r\n}","import {Entity} from 'aframe-react';\r\nimport React from 'react';\r\nimport {HSVtoHex} from './color';\r\n\r\n// http://dmccooey.com/polyhedra/PentakisDodecahedron.txt\r\nconst c1 = 1.33058699733550141141687582919;\r\nconst c2 = 2.15293498667750705708437914596;\r\n\r\n// in ordered, opposite pairs\r\nconst verts = [\r\n  [0.0,  -c2,   c1],\r\n  [0.0,   c2,  -c1],\r\n  [ c2,  -c1,  0.0],\r\n  [-c2,   c1,  0.0],\r\n  [0.0,  -c2,  -c1],\r\n  [0.0,   c2,   c1],\r\n  [-c2,  -c1,  0.0],\r\n  [ c2,   c1,  0.0],\r\n  [-c1,  0.0,   c2],\r\n  [ c1,  0.0,  -c2],\r\n  [ c1,  0.0,   c2],\r\n  [-c1,  0.0,  -c2],\r\n];\r\n\r\nconst Dod = ({ rep = 1, sat, stack = [], n = 0 }) =>\r\n  <Entity position=\"0 0 0\">\r\n    {verts.map((v, i) =>\r\n      <Entity\r\n        key={i}\r\n        color={HSVtoHex(i * (1 / 12), sat || 1, 1)}\r\n        events={{ click: () => console.log(i) }}\r\n        primitive=\"a-sphere\"\r\n        position={v.join(' ')}\r\n        scale={[1, 1, 1].map(n => 0.3 * n/ (rep * rep)).join(' ')}\r\n      />)}\r\n\r\n    {rep < 3 && verts.map((v, i) =>\r\n      <Entity\r\n        key={i}\r\n        position={v.map(n => n * 2).join(' ')}\r\n        text={`color: ${HSVtoHex((stack.length ? stack[stack.length - 1] : i) * (1 / 12), 1, 1)}; align: center; value: ${[...stack, i].join(',')} - ${(n + i) % 12}; width: 5; zOffset: 0`}\r\n      >\r\n        <Dod rep={rep+1} sat={0.3} stack={[...stack, i]} n={(n + i) % 12} />\r\n      </Entity>)\r\n      // .filter((n, i) => i % 2)\r\n    }\r\n  </Entity>;\r\n\r\nexport default Dod;","import _ from 'lodash';\r\nimport React from 'react';\r\n\r\nconst MultTableMod12 = () => (\r\n  <>\r\n    {_.range(6).map(n => (\r\n      <pre>\r\n        {_.range(13).map(y => (\r\n          <>\r\n            {_.range(13).map(x => (\r\n              <span key={x} style={{ padding: 3 }}>\r\n                {_.padStart((n + x * y) % 12, 2, '0')}\r\n              </span>\r\n            ))}\r\n            <br />\r\n          </>\r\n        ))}\r\n\r\n      </pre>\r\n    ))}\r\n  </>);\r\n\r\nexport default MultTableMod12;","import _ from 'lodash';\r\nimport React from 'react';\r\n\r\nconst Tonnetz = () => (\r\n  <pre style={{ lineHeight: 3 }}>\r\n\r\n    {_.range(20).map(y => (\r\n      <>\r\n        {y % 2 > 0 && (\r\n          <span style={{ paddingRight: 21 }}>\r\n            {' '}\r\n          </span>\r\n        )}\r\n\r\n        {_.range(30).map(x => (\r\n          <span key={x} style={{ padding: 21 }}>\r\n            {_.padStart(((y % 2 > 0 ? ((y - 1) / 2) * 11 + 3 : (y / 2) * 11) + x * 7) % 12, 2, '0')}\r\n          </span>\r\n        ))}\r\n        <br />\r\n      </>\r\n    ))}\r\n\r\n</pre>);\r\n\r\nexport default Tonnetz;","import React from 'react';\r\nimport { HSVtoHex } from './color';\r\n\r\n\r\n\r\nexport default ({ n, midiIn, position = \"0 0 0\", scale = \"1 1 1\" }) =>\r\n  <a-sphere\r\n    color=\"black\"\r\n    opacity={0.3}\r\n    position={position}\r\n    radius={0.15}\r\n    scale={scale}\r\n  >\r\n    <a-text\r\n      align=\"center\"\r\n      color={HSVtoHex(n / 12, 1, 1)}\r\n      look-at=\"#camera\"\r\n      opacity={midiIn ? 1 : 0.25}\r\n      value={n}\r\n    />\r\n  </a-sphere>","import _ from 'lodash';\r\nimport PitchClass from './pitchClass';\r\nimport React from 'react';\r\nimport WebMidi from 'webmidi';\r\nimport { Entity } from 'aframe-react';\r\n\r\nexport default class Midi extends React.Component {\r\n  state = {\r\n    midiIn: _.zipObject(\r\n      _.range(128),\r\n      _.fill(new Array(128), 0)),\r\n  }\r\n\r\n  componentDidMount() {\r\n    WebMidi.enable((err) => {\r\n      if (err) console.error(err);\r\n      else console.log('WebMidi enabled.');\r\n\r\n      console.log(WebMidi.inputs);\r\n      if (WebMidi.inputs[0]) {\r\n        WebMidi.inputs[0].addListener('noteon', 'all', this.handleMidi);\r\n        WebMidi.inputs[0].addListener('noteoff', 'all', this.handleMidi);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleMidi = (e) => {\r\n    const n = e.note.number;\r\n    console.log(n)\r\n    this.setState({\r\n      midiIn: {\r\n        ...this.state.midiIn,\r\n        [n]: e.type === 'noteon' ? e.rawVelocity : 0\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n\r\n    const midiInPitchClasses = _(12)\r\n      .range()\r\n      .map(n => _(this.state.midiIn)\r\n        .pickBy((v, i) => i % 12 === n)\r\n        .values()\r\n        .sum())\r\n      .value();\r\n\r\n    return (\r\n      <Entity>\r\n        {_(12)\r\n          .range()\r\n          .filter(n => n % 2 == 0)\r\n          .map(n => ({\r\n            n,\r\n            r: 1.5,\r\n            x: -Math.sin(n * Math.PI / 6),\r\n            y: Math.cos(n * Math.PI / 6),\r\n          }))\r\n          .map(({ n, r, x, y }) => (\r\n            <PitchClass\r\n              midiIn={midiInPitchClasses[n]}\r\n              n={n}\r\n              position={`${r * x} ${r * y} 0`}\r\n            />))\r\n          .value()\r\n        }\r\n\r\n        {_(48)\r\n          .range()\r\n          .filter(n => !_.includes([6, 7, 0, 1], n % 8))\r\n          .map((n, i) => ({\r\n            i,\r\n            n: ((i + 1) * 2 + Math.floor(i / 4) * 2) % 12,\r\n            // n: (n * 2) % 12,\r\n            r: 1.5,\r\n            x: Math.sin((n + 0.5) * Math.PI / 24),\r\n            y: Math.cos((n + 0.5) * Math.PI / 24),\r\n          }))\r\n          .map(({ n, r, x, y }) => (\r\n            <PitchClass\r\n              midiIn={midiInPitchClasses[n]}\r\n              n={n}\r\n              position={`${r * x} ${r * y} 0`}\r\n              scale=\"0.5 0.5 0.5\"\r\n            />))\r\n          .value()\r\n        }\r\n\r\n        {_(12)\r\n          .range()\r\n          .filter(n => n % 2 != 0)\r\n          .map(n => ({\r\n            n: (n + 6) % 12,\r\n            r: 1.2,\r\n            x: -Math.sin(n * Math.PI / 6),\r\n            y: Math.cos(n * Math.PI / 6),\r\n          }))\r\n          .map(({ n, r, x, y }) => (\r\n            <PitchClass\r\n              midiIn={midiInPitchClasses[n]}\r\n              n={n}\r\n              position={`${r * x} ${r * y} 0`}\r\n            />))\r\n          .value()\r\n        }\r\n\r\n        {_(48)\r\n          .range()\r\n          .filter(n => !_.includes([4, 5, 6, 7], n % 8))\r\n          .map((n, i) => ({\r\n            i,\r\n            // n: i,\r\n            n: (i * 2 + 9 + Math.floor(i / 4) * 2) % 12,\r\n            // n: i,\r\n            r: 1.2,\r\n            x: Math.sin((n - 1.5) * Math.PI / 24),\r\n            y: Math.cos((n - 1.5) * Math.PI / 24),\r\n          }))\r\n          .map(({ n, r, x, y }) => (\r\n            <PitchClass\r\n              midiIn={midiInPitchClasses[n]}\r\n              n={n}\r\n              position={`${r * x} ${r * y} 0`}\r\n              scale=\"0.5 0.5 0.5\"\r\n            />))\r\n          .value()\r\n        }\r\n      </Entity>\r\n    );\r\n  }\r\n}","import 'aframe';\r\n// import 'aframe-animation-component';\r\n// import 'aframe-particle-system-component';\r\nimport 'aframe-look-at-component';\r\nimport _ from 'lodash';\r\nimport Dod from './dod';\r\nimport MultTableMod12 from './multTableMod12';\r\nimport Tonnetz from './tonnetz';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Entity, Scene } from 'aframe-react';\r\nimport Midi from './midi';\r\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\r\n\r\nconst VR = ({ match: { path } }) => (\r\n  <Scene>\r\n    <a-assets>\r\n      <img id=\"groundTexture\" src=\"https://cdn.aframe.io/a-painter/images/floor.jpg\" />\r\n      <img id=\"skyTexture\" src=\"https://cdn.aframe.io/a-painter/images/sky.jpg\" />\r\n    </a-assets>\r\n\r\n    <Switch>\r\n      <Route path={`${path}/coltrane`} component={Midi} />\r\n      <Route path={`${path}/dod`} component={Dod} />\r\n    </Switch>\r\n\r\n\r\n    {/*<Entity primitive=\"a-plane\" src=\"#groundTexture\" rotation=\"-90 0 0\" height=\"100\" width=\"100\"/>*/}\r\n    {/*<Entity primitive=\"a-light\" type=\"ambient\" color=\"#445451\"/>*/}\r\n    {/*<Entity primitive=\"a-light\" type=\"point\" intensity=\"2\" position=\"2 4 4\"/>*/}\r\n    <Entity\r\n      height=\"2048\"\r\n      primitive=\"a-sky\"\r\n      radius=\"30\"\r\n      rotation=\"90 0 0\"\r\n      src=\"#skyTexture\"\r\n      theta-length=\"90\"\r\n      width=\"2048\"\r\n    />\r\n    <Entity\r\n      height=\"2048\"\r\n      primitive=\"a-sky\"\r\n      radius=\"30\"\r\n      rotation=\"90 0 180\"\r\n      src=\"#skyTexture\"\r\n      theta-length=\"90\"\r\n      width=\"2048\"\r\n    />\r\n    {/*<Entity particle-system={{preset: 'snow', particleCount: 2000}}/>*/}\r\n    {/*<Entity text={{value: 'Hello, A-Frame React!', align: 'center'}} position={{x: 0, y: 2, z: -1}}/>*/}\r\n\r\n    {/*<Entity id=\"box\"*/}\r\n    {/*geometry={{primitive: 'box'}}*/}\r\n    {/*material={{color: this.state.color, opacity: 0.6}}*/}\r\n    {/*animation__rotate={{property: 'rotation', dur: 2000, loop: true, to: '360 360 360'}}*/}\r\n    {/*animation__scale={{property: 'scale', dir: 'alternate', dur: 100, loop: true, to: '1.1 1.1 1.1'}}*/}\r\n    {/*position={{x: 0, y: 1, z: -3}}*/}\r\n    {/*events={{click: this.changeColor.bind(this)}}>*/}\r\n    {/*<Entity animation__scale={{property: 'scale', dir: 'alternate', dur: 100, loop: true, to: '2 2 2'}}*/}\r\n    {/*geometry={{primitive: 'box', depth: 0.2, height: 0.2, width: 0.2}}*/}\r\n    {/*material={{color: '#24CAFF'}}/>*/}\r\n    {/*</Entity>*/}\r\n\r\n\r\n    <Entity primitive=\"a-camera\" id=\"camera\" position=\"0 0 2\">\r\n      <Entity primitive=\"a-cursor\" animation__click={{\r\n        property: 'scale',\r\n        startEvents: 'click',\r\n        from: '0.1 0.1 0.1',\r\n        to: '1 1 1',\r\n        dur: 150,\r\n      }} />\r\n    </Entity>\r\n  </Scene>\r\n);\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n\r\n    return (\r\n      <Router>\r\n        <Route path=\"/\" exact render={routerProps => (\r\n            <h1>Hello World</h1>\r\n        )} />\r\n\r\n        <Route path=\"/multTableMod12\" render={MultTableMod12} />\r\n        <Route path=\"/tonnetz\" render={Tonnetz} />\r\n\r\n        <Route path=\"/vr\" render={VR} />\r\n\r\n        <div\r\n          style={{\r\n            background: 'black',\r\n            bottom: 0,\r\n            color: 'white',\r\n            position: 'absolute',\r\n          }}>\r\n\r\n          <Link to=\"/\">Not VR</Link>\r\n          -\r\n          <Link to=\"/vr/coltrane\">Coltrane Circle</Link>\r\n          -\r\n          <Link to=\"/vr/dod\">Dod</Link>\r\n\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.querySelector('#sceneContainer'));\r\n"],"sourceRoot":""}