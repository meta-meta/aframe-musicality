{"version":3,"sources":["cell.js","fretMarkers.js","util.js","pc.js","banjo.js","guitar.js","multTableMod12.js","numpadMod12.js","tonnetz.js","color.js","pitchClass.js","useMidi.js","coltraneCircle.js","dod.js","vr.js","index.js"],"names":["Cell","withStyles","root","fontSize","fontFamily","display","height","width","alignItems","justifyContent","el","odd","left","cellSize","position","_ref","children","classes","_ref$className","className","isOdd","react_default","a","createElement","concat","FretMarkers","fretMarker","color","frets","_","range","last","map","f","includes","fret","ix","cell","key","toSymbol","n","10","11","PC","Banjo","style","flexShrink","fretMarkers","pc0","pc0ix","Fragment","i","pc","src_pc","Guitar","MultTableMod12","y","x","padding","NumpadMod12","state","text","handleKeyPress","evt","char","Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadDivide","NumpadMultiply","NumpadDecimal","NumpadEnter","Enter","Space","code","preventDefault","_this","setState","handleChange","value","target","window","addEventListener","this","removeEventListener","cols","rows","onChange","background","Component","Tonnetz","HSVtoHex","h","s","v","r","g","b","p","q","t","arguments","length","Math","floor","componentToHex","c","hex","toString","rgbToHex","round","pitchClass","midiIn","_ref$position","_ref$scale","scale","opacity","radius","align","font","negate","look-at","initialState","input","undefined","inputDevices","isDeviceSelectorVisible","zipObject","fill","Array","actions","setInputDevice","store","amount","newCounterValue","counter","setInputDevices","setMidiEvent","midiEvt","merge","toggleDeviceSelector","globalHook","React","ColtraneCircle","_useState","useState","_useState2","Object","slicedToArray","is180","setIs180","useEffect","toggle","_useMidi","useMidi","midiInPitchClasses","pickBy","values","sum","dist","animation","filter","sin","PI","cos","_ref2","_ref3","_ref4","_ref5","c1","c2","verts","Dod","_ref$rep","rep","sat","_ref$stack","stack","_ref$n","events","click","console","log","primitive","join","toConsumableArray","VR","path","match","id","src","react_router","component","rotation","theta-length","animation__click","property","startEvents","from","to","dur","oculus-touch-controls","ReactDOM","render","prefersDarkMode","useMediaQuery","theme","useMemo","createMuiTheme","palette","action","active","primary","main","type","_React$useState","_React$useState2","menuAnchorEl","setMenuAnchorEl","handleMenuClose","ThemeProvider","CssBaseline","react_router_dom","basename","process","exact","routerProps","vr","numpadMod12","AppBar","top","bottom","Toolbar","IconButton","edge","aria-label","onClick","currentTarget","esm_Menu","Menu","anchorEl","open","onClose","MenuItem","disabled","idx","title","url","divider","document","querySelector","osc","OSC","sendOsc","address","_len","args","_key","send","construct","Message"],"mappings":"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","file":"static/js/main.170fb411.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nconst cellSize = 30;\r\n\r\nconst Cell = withStyles({\r\n  root: {\r\n    fontSize: 20,\r\n    fontFamily: 'jetBrainsMono',\r\n    display: 'inline-flex',\r\n    height: cellSize,\r\n    width: cellSize,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // border: '1px solid',\r\n  },\r\n  el: {\r\n    fontFamily: 'Segoe UI',\r\n  },\r\n  odd: {\r\n    left: cellSize / 2,\r\n    position: 'relative',\r\n  }\r\n})(({children, classes, className = '', isOdd}) => (\r\n  <div className={`${classes.root} ${className} ${isOdd ? classes.odd : ''}`}>\r\n    {children}\r\n  </div>\r\n));\r\n\r\nexport default Cell;\r\n","import _ from 'lodash';\r\nimport Cell from \"./cell\";\r\nimport React from \"react\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nconst FretMarkers = withStyles({\r\n  fretMarker: {color: 'purple'}\r\n})(\r\n  ({classes: {fretMarker}, frets}) => _.range(_.last(frets) + 1)\r\n    .map(f => _.includes(frets, f) ? f : '')\r\n    .map((fret, ix) => <Cell className={fretMarker} key={ix}>{fret}</Cell>));\r\n\r\nexport default FretMarkers;\r\n","export const toSymbol = n => ({\r\n  10: '૪',\r\n  11: 'Ɛ',\r\n})[n % 12] || n % 12;\r\n","import Cell from './cell';\r\nimport React from \"react\";\r\nimport {toSymbol} from \"./util\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nconst PC = withStyles({\r\n  el: {\r\n    fontFamily: 'Segoe UI',\r\n  },\r\n})(({classes, n, isOdd}) => (\r\n  <Cell\r\n    className={n === 11 ? classes.el : ''}\r\n    isOdd={isOdd}\r\n  >\r\n    {toSymbol(n)}\r\n  </Cell>\r\n));\r\n\r\nexport default PC;\r\n","import _ from 'lodash';\r\nimport Cell from './cell';\r\nimport FretMarkers from \"./fretMarkers\";\r\nimport PC from './pc';\r\nimport React from 'react';\r\n\r\nconst frets = [1,3,5,7,10,12,15,17,19];\r\n\r\nconst Banjo = () => (\r\n  <div style={{\r\n    display: 'block',\r\n    flexShrink: 0,\r\n  }}>\r\n    <FretMarkers frets={frets} />\r\n    <br/>\r\n    {[0, 9, 5, 0, 0].map((pc0, pc0ix) => (\r\n      <>\r\n        {_.range(23)\r\n          .map(i => (i + pc0) % 12)\r\n          .map((pc, ix) =>\r\n            pc0ix === 4 && ix < 5\r\n              ? <Cell key={ix}/>\r\n              : <PC key={ix} n={pc}/>\r\n          )}\r\n        <br/>\r\n      </>\r\n    ))}\r\n    <FretMarkers frets={frets} />\r\n  </div>\r\n);\r\n\r\nexport default Banjo;\r\n","import _ from 'lodash';\r\nimport FretMarkers from \"./fretMarkers\";\r\nimport PC from './pc';\r\nimport React from 'react';\r\n\r\nconst frets = [0,5,7,12,15,17,19, 24];\r\n\r\nconst Guitar = () => (\r\n  <div style={{\r\n    display: 'block',\r\n    flexShrink: 0,\r\n  }}>\r\n    <FretMarkers frets={frets}/>\r\n    <br/>\r\n    {[4, 11, 7, 2, 9, 4].map(pc0 => (\r\n      <>\r\n        {_.range(25)\r\n          .map(i => (i + pc0) % 12)\r\n          .map((pc, ix) => (\r\n            <PC key={ix} n={pc}/>\r\n          ))}\r\n        <br/>\r\n      </>\r\n    ))}\r\n    <FretMarkers frets={frets}/>\r\n  </div>\r\n);\r\n\r\nexport default Guitar;\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { toSymbol } from \"./util\";\r\n\r\nconst MultTableMod12 = () => (\r\n  <>\r\n    {_.range(6).map(n => (\r\n      <pre>\r\n        {_.range(13).map(y => (\r\n          <>\r\n            {_.range(13).map(x => (\r\n              <span key={x} style={{ padding: 3 }}>\r\n                {toSymbol(n + x * y)}\r\n              </span>\r\n            ))}\r\n            <br />\r\n          </>\r\n        ))}\r\n\r\n      </pre>\r\n    ))}\r\n  </>);\r\n\r\nexport default MultTableMod12;\r\n","import _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { toSymbol } from \"./util\";\r\n\r\nclass NumpadMod12 extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keypress', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keypress', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (evt) => {\r\n    // console.log(evt.code)\r\n    const char = {\r\n      Backquote: '0',\r\n      Digit1: '1',\r\n      Digit2: '2',\r\n      Digit3: '3',\r\n      Digit4: '4',\r\n      Digit5: '5',\r\n      Digit6: '6',\r\n      Digit7: '7',\r\n      Digit8: '8',\r\n      Digit9: '9',\r\n      Digit0: '૪',\r\n      Minus: 'Ɛ',\r\n      Equal: '0',\r\n      Numpad0: '0',\r\n      Numpad1: '1',\r\n      Numpad2: '2',\r\n      Numpad3: '3',\r\n      Numpad4: '4',\r\n      Numpad5: '5',\r\n      Numpad6: '6',\r\n      Numpad7: '7',\r\n      Numpad8: '8',\r\n      Numpad9: '9',\r\n      NumpadDivide: '૪',\r\n      NumpadMultiply: 'Ɛ',\r\n      NumpadDecimal: ' ',\r\n      NumpadEnter: '\\n',\r\n      Enter: '\\n',\r\n      Space: ' ',\r\n    }[evt.code];\r\n\r\n    if (char) {\r\n      evt.preventDefault();\r\n      this.setState({ text: this.state.text + char });\r\n    }\r\n  };\r\n\r\n  handleChange = ({ target: { value }}) => this.setState({ text: value });\r\n\r\n  render() {\r\n    return <div>\r\n      <h3>Use the numpad to enter pitch classes</h3>\r\n      <textarea\r\n        cols={24}\r\n        rows={20}\r\n        onChange={this.handleChange}\r\n        style={{\r\n          background: 'black',\r\n          color: 'darkgray',\r\n          fontSize: 20,\r\n        }}\r\n        value={this.state.text}\r\n      />\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default NumpadMod12;\r\n","import _ from 'lodash';\r\nimport PC from './pc';\r\nimport React from 'react';\r\n\r\nconst Tonnetz = () => (\r\n  <div style={{\r\n    display: 'block',\r\n    flexShrink: 0,\r\n  }}>\r\n    {_.range(30)\r\n      .map(y => (\r\n        <>\r\n          {_.range(50).map(x => {\r\n            const n = ((y % 2 > 0\r\n              ? ((y - 1) / 2) * 11 + 3\r\n              : (y / 2) * 11) + x * 7) % 12;\r\n\r\n            return (\r\n              <PC key={x} n={n} isOdd={y % 2 === 1}/>\r\n            )\r\n          })}\r\n          <br/>\r\n        </>\r\n      ))}\r\n  </div>\r\n);\r\n\r\nexport default Tonnetz;\r\n","export function HSVtoHex(h, s, v) {\r\n  function rgbToHex({ r, g, b }) {\r\n    function componentToHex(c) {\r\n      var hex = c.toString(16);\r\n      return hex.length == 1 ? \"0\" + hex : hex;\r\n    }\r\n\r\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n  }\r\n\r\n  var r, g, b, i, f, p, q, t;\r\n  if (arguments.length === 1) {\r\n    s = h.s;\r\n    v = h.v;\r\n    h = h.h;\r\n  }\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: {\r\n      r = v;\r\n      g = t;\r\n      b = p;\r\n      break;\r\n    }\r\n    case 1: {\r\n      r = q;\r\n      g = v;\r\n      b = p;\r\n      break;\r\n    }\r\n    case 2: {\r\n      r = p;\r\n      g = v;\r\n      b = t;\r\n      break;\r\n    }\r\n    case 3: {\r\n      r = p;\r\n      g = q;\r\n      b = v;\r\n      break;\r\n    }\r\n    case 4: {\r\n      r = t;\r\n      g = p;\r\n      b = v;\r\n      break;\r\n    }\r\n    case 5: {\r\n      r = v;\r\n      g = p;\r\n      b = q;\r\n      break;\r\n    }\r\n  }\r\n  return rgbToHex({\r\n    r: Math.round(r * 255),\r\n    g: Math.round(g * 255),\r\n    b: Math.round(b * 255)\r\n  });\r\n}","import React from 'react';\r\nimport { HSVtoHex } from './color';\r\nimport { toSymbol } from \"./util\";\r\n\r\n\r\nexport default ({ n, midiIn, position = \"0 0 0\", scale = \"1 1 1\" }) =>\r\n  <a-sphere\r\n    color=\"black\"\r\n    opacity={0.3}\r\n    position={position}\r\n    radius={0.15}\r\n    scale={scale}\r\n  >\r\n    <a-text\r\n      align=\"center\"\r\n      color={HSVtoHex(n / 12, 0.75, 1)}\r\n      font=\"../segoeui-msdf.json\"\r\n      negate=\"false\"\r\n      look-at=\"#camera\"\r\n      opacity={midiIn ? 1 : 0.25}\r\n      value={toSymbol(n)}\r\n    />\r\n  </a-sphere>\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\nimport globalHook from 'use-global-hook';\r\n\r\nconst initialState = {\r\n  input: undefined,\r\n  inputDevices: [],\r\n  isDeviceSelectorVisible: false,\r\n  midiIn: _.zipObject(\r\n    _.range(128),\r\n    _.fill(new Array(128), 0)),\r\n};\r\n\r\nconst actions = {\r\n  setInputDevice: (store, amount) => {\r\n    const newCounterValue = store.state.counter + amount;\r\n    store.setState({counter: newCounterValue});\r\n  },\r\n\r\n  setInputDevices: (store, inputDevices) =>\r\n    store.setState({inputDevices}),\r\n\r\n  setMidiEvent: (store, midiEvt) =>\r\n    store.setState({midiIn: _.merge(store.state.midiIn, midiEvt)}),\r\n\r\n  toggleDeviceSelector: (store) =>\r\n    store.setState({isDeviceSelectorVisible: !store.state.isDeviceSelectorVisible}),\r\n};\r\n\r\nexport default globalHook(React, initialState, actions);\r\n","import _ from 'lodash';\r\nimport PitchClass from './pitchClass';\r\nimport React, {useEffect, useState} from 'react';\r\nimport useMidi from \"./useMidi\";\r\nimport {Entity} from 'aframe-react';\r\n\r\nconst ColtraneCircle = () => {\r\n  const [is180, setIs180] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const toggle = ({key}) => {\r\n      if (key === 'r') setIs180(is180 => !is180);\r\n    };\r\n\r\n    window.addEventListener('keyup', toggle);\r\n    return () => window.removeEventListener('keyup', toggle);\r\n  }, []);\r\n\r\n  const [{midiIn}] = useMidi();\r\n\r\n  const midiInPitchClasses = _(12)\r\n    .range()\r\n    .map(n => _(midiIn)\r\n      .pickBy((v, i) => i % 12 === n)\r\n      .values()\r\n      .sum())\r\n    .value();\r\n\r\n  return (// https://www.npmjs.com/package/aframe-animation-component\r\n    <Entity\r\n      animation={`property: rotation; to: 0 ${is180 ? 180 : 0} 0; dur: 500;`}\r\n      position={`0 0 -3`}\r\n    >\r\n      {_(12)\r\n        .range()\r\n        .filter(n => n % 2 == 0)\r\n        .map(n => ({\r\n          n,\r\n          r: 1.5,\r\n          x: -Math.sin(n * Math.PI / 6),\r\n          y: Math.cos(n * Math.PI / 6),\r\n        }))\r\n        .map(({n, r, x, y}) => (\r\n          <PitchClass\r\n            midiIn={midiInPitchClasses[n]}\r\n            n={n}\r\n            position={`${r * x} ${r * y} 0`}\r\n          />))\r\n        .value()\r\n      }\r\n\r\n      {_(48)\r\n        .range()\r\n        .filter(n => !_.includes([6, 7, 0, 1], n % 8))\r\n        .map((n, i) => ({\r\n          i,\r\n          n: ((i + 1) * 2 + Math.floor(i / 4) * 2) % 12,\r\n          // n: (n * 2) % 12,\r\n          r: 1.5,\r\n          x: Math.sin((n + 0.5) * Math.PI / 24),\r\n          y: Math.cos((n + 0.5) * Math.PI / 24),\r\n        }))\r\n        .map(({n, r, x, y}) => (\r\n          <PitchClass\r\n            midiIn={midiInPitchClasses[n]}\r\n            n={n}\r\n            position={`${r * x} ${r * y} 0`}\r\n            scale=\"0.5 0.5 0.5\"\r\n          />))\r\n        .value()\r\n      }\r\n\r\n      {_(12)\r\n        .range()\r\n        .filter(n => n % 2 != 0)\r\n        .map(n => ({\r\n          n: (n + 6) % 12,\r\n          r: 1.2,\r\n          x: -Math.sin(n * Math.PI / 6),\r\n          y: Math.cos(n * Math.PI / 6),\r\n        }))\r\n        .map(({n, r, x, y}) => (\r\n          <PitchClass\r\n            midiIn={midiInPitchClasses[n]}\r\n            n={n}\r\n            position={`${r * x} ${r * y} 0`}\r\n          />))\r\n        .value()\r\n      }\r\n\r\n      {_(48)\r\n        .range()\r\n        .filter(n => !_.includes([4, 5, 6, 7], n % 8))\r\n        .map((n, i) => ({\r\n          i,\r\n          // n: i,\r\n          n: (i * 2 + 9 + Math.floor(i / 4) * 2) % 12,\r\n          // n: i,\r\n          r: 1.2,\r\n          x: Math.sin((n - 1.5) * Math.PI / 24),\r\n          y: Math.cos((n - 1.5) * Math.PI / 24),\r\n        }))\r\n        .map(({n, r, x, y}) => (\r\n          <PitchClass\r\n            midiIn={midiInPitchClasses[n]}\r\n            n={n}\r\n            position={`${r * x} ${r * y} 0`}\r\n            scale=\"0.5 0.5 0.5\"\r\n          />))\r\n        .value()\r\n      }\r\n    </Entity>\r\n  );\r\n};\r\n\r\nexport default ColtraneCircle;\r\n","import {Entity} from 'aframe-react';\r\nimport React from 'react';\r\nimport {HSVtoHex} from './color';\r\n\r\n// http://dmccooey.com/polyhedra/PentakisDodecahedron.txt\r\nconst c1 = 1.33058699733550141141687582919;\r\nconst c2 = 2.15293498667750705708437914596;\r\n\r\n// in ordered, opposite pairs\r\nconst verts = [\r\n  [0.0,  -c2,   c1],\r\n  [0.0,   c2,  -c1],\r\n  [ c2,  -c1,  0.0],\r\n  [-c2,   c1,  0.0],\r\n  [0.0,  -c2,  -c1],\r\n  [0.0,   c2,   c1],\r\n  [-c2,  -c1,  0.0],\r\n  [ c2,   c1,  0.0],\r\n  [-c1,  0.0,   c2],\r\n  [ c1,  0.0,  -c2],\r\n  [ c1,  0.0,   c2],\r\n  [-c1,  0.0,  -c2],\r\n];\r\n\r\nconst Dod = ({ rep = 1, sat, stack = [], n = 0 }) =>\r\n  <Entity position=\"0 0 0\">\r\n    {verts.map((v, i) =>\r\n      <Entity\r\n        key={i}\r\n        color={HSVtoHex(i * (1 / 12), sat || 1, 1)}\r\n        events={{ click: () => console.log(i) }}\r\n        primitive=\"a-sphere\"\r\n        position={v.join(' ')}\r\n        scale={[1, 1, 1].map(n => 0.3 * n/ (rep * rep)).join(' ')}\r\n      />)}\r\n\r\n    {rep < 3 && verts.map((v, i) =>\r\n      <Entity\r\n        key={i}\r\n        position={v.map(n => n * 2).join(' ')}\r\n        text={`color: ${HSVtoHex((stack.length ? stack[stack.length - 1] : i) * (1 / 12), 1, 1)}; align: center; value: ${[...stack, i].join(',')} - ${(n + i) % 12}; width: 5; zOffset: 0`}\r\n      >\r\n        <Dod rep={rep+1} sat={0.3} stack={[...stack, i]} n={(n + i) % 12} />\r\n      </Entity>)\r\n      // .filter((n, i) => i % 2)\r\n    }\r\n  </Entity>;\r\n\r\nexport default Dod;","import ColtraneCircle from \"./coltraneCircle\";\r\nimport Dod from './dod';\r\nimport React from 'react';\r\nimport {Entity, Scene} from 'aframe-react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\n// Note: needs https to enter VR\r\n\r\nconst VR = ({match: {path}}) => (\r\n  <Scene>\r\n    <a-assets>\r\n      <img id=\"groundTexture\" src=\"https://cdn.aframe.io/a-painter/images/floor.jpg\"/>\r\n      <img id=\"skyTexture\" src=\"https://cdn.aframe.io/a-painter/images/sky.jpg\"/>\r\n    </a-assets>\r\n\r\n    <Switch>\r\n      <Route path={`${path}/coltrane`} component={ColtraneCircle}/>\r\n      <Route path={`${path}/dod`} component={Dod}/>\r\n    </Switch>\r\n\r\n\r\n    {/*<Entity primitive=\"a-plane\" src=\"#groundTexture\" rotation=\"-90 0 0\" height=\"100\" width=\"100\"/>*/}\r\n    {/*<Entity primitive=\"a-light\" type=\"ambient\" color=\"#445451\"/>*/}\r\n    {/*<Entity primitive=\"a-light\" type=\"point\" intensity=\"2\" position=\"2 4 4\"/>*/}\r\n\r\n    <Entity\r\n      height=\"2048\"\r\n      primitive=\"a-sky\"\r\n      radius=\"30\"\r\n      rotation=\"90 0 0\"\r\n      src=\"#skyTexture\"\r\n      theta-length=\"90\"\r\n      width=\"2048\"\r\n    />\r\n    <Entity\r\n      height=\"2048\"\r\n      primitive=\"a-sky\"\r\n      radius=\"30\"\r\n      rotation=\"90 0 180\"\r\n      src=\"#skyTexture\"\r\n      theta-length=\"90\"\r\n      width=\"2048\"\r\n    />\r\n\r\n    <Entity primitive=\"a-camera\" id=\"camera\" position=\"0 0 0\">\r\n      <Entity primitive=\"a-cursor\" animation__click={{\r\n        property: 'scale',\r\n        startEvents: 'click',\r\n        from: '0.1 0.1 0.1',\r\n        to: '1 1 1',\r\n        dur: 150,\r\n      }}/>\r\n    </Entity>\r\n\r\n    <Entity\r\n      // events={{}}\r\n      id=\"leftHand\"\r\n      oculus-touch-controls=\"hand: left\"\r\n    />\r\n    <Entity\r\n      id=\"rightHand\"\r\n      oculus-touch-controls=\"hand: right\"\r\n    />\r\n\r\n  </Scene>\r\n);\r\n\r\nexport default VR;\r\n","import 'aframe';\r\n// import 'aframe-animation-component';\r\nimport 'aframe-look-at-component';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Banjo from './banjo';\r\nimport Guitar from './guitar';\r\nimport MultTableMod12 from './multTableMod12';\r\nimport NumpadMod12 from './numpadMod12';\r\nimport OSC from 'osc-js';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Tonnetz from './tonnetz';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport VR from './vr';\r\nimport {\r\n  AppBar,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Toolbar,\r\n} from '@material-ui/core';\r\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport {Menu as MenuIcon} from '@material-ui/icons';\r\n\r\nconst App = () => {\r\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n\r\n  const theme = React.useMemo(\r\n    () =>\r\n      createMuiTheme({\r\n        palette: { // https://material-ui.com/customization/palette/\r\n          action: {\r\n            active: '#660000',\r\n          },\r\n          primary: {\r\n            main: '#440044'\r\n          },\r\n          type: prefersDarkMode ? 'dark' : 'light',\r\n        },\r\n      }),\r\n    [prefersDarkMode],\r\n  );\r\n\r\n  // Menu open/close\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n  const handleMenuButtonClick = ({ currentTarget }) => setMenuAnchorEl(currentTarget);\r\n  const handleMenuClose = () => setMenuAnchorEl(null);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline/>\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Route path=\"/\" exact render={routerProps => (\r\n          <h1>Hello World</h1>\r\n        )}/>\r\n\r\n        <Route path=\"/vr\" render={(routerProps) => <VR {...routerProps} />}/>\r\n\r\n        <Route path=\"/multTableMod12\" render={MultTableMod12}/>\r\n\r\n        <Route path=\"/numpadMod12\" render={() => <NumpadMod12/>}/>\r\n\r\n        <Route path=\"/tonnetz\" render={Tonnetz}/>\r\n\r\n        <Route path=\"/banjo\" render={Banjo}/>\r\n\r\n        <Route path=\"/guitar\" render={Guitar}/>\r\n\r\n        <AppBar\r\n          position=\"fixed\"\r\n          style={{\r\n            top: 'auto',\r\n            bottom: 0,\r\n          }}\r\n        >\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={handleMenuButtonClick}\r\n            >\r\n              <MenuIcon/>\r\n            </IconButton>\r\n            <Menu\r\n              anchorEl={menuAnchorEl}\r\n              open={!!menuAnchorEl}\r\n              onClose={handleMenuClose}\r\n            >\r\n              <MenuItem disabled >2D</MenuItem>\r\n              {[\r\n                ['Numpad', '/numpadMod12'],\r\n                ['Mod 12 Multiplication Tables', '/multTableMod12'],\r\n                ['Tonnetz', '/tonnetz'],\r\n                ['Banjo', '/banjo'],\r\n                ['Guitar', '/guitar'],\r\n              ].map(([title, url], idx) => (\r\n                <MenuItem key={idx}>\r\n                  <Link style={{ color: 'pink'}} onClick={handleMenuClose} to={url}>{title}</Link>\r\n                </MenuItem>\r\n              ))}\r\n              <MenuItem divider />\r\n              <MenuItem disabled >VR</MenuItem>\r\n              {[\r\n                ['Coltrane Circle', '/vr/coltrane'],\r\n                ['Dod', '/vr/dod'],\r\n              ].map(([title, url], idx) => (\r\n                <MenuItem key={idx}>\r\n                  <Link style={{ color: 'cyan'}} onClick={handleMenuClose} to={url}>{title}</Link>\r\n                </MenuItem>\r\n              ))}\r\n            </Menu>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nReactDOM.render(<App/>, document.querySelector('#sceneContainer'));\r\n\r\n\r\nconst osc = new OSC();\r\nosc.open();\r\nwindow.osc = osc;\r\nwindow.sendOsc = (address, ...args) => osc.send(new OSC.Message(address, ...args));\r\n"],"sourceRoot":""}