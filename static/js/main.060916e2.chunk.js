(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports=n(171)},170:function(e,t){},171:function(e,t,n){"use strict";n.r(t);var a=n(9),c=(n(124),n(127),n(7)),r=n.n(c),i=n(0),l=n.n(i),o=n(14),s=Object(o.a)({root:{fontSize:20,fontFamily:"jetBrainsMono",display:"inline-flex",height:30,width:30,alignItems:"center",justifyContent:"center",position:"relative"},odd:{left:15}})(function(e){var t=e.children,n=e.classes,a=e.className,c=void 0===a?"":a,r=e.isOdd,i=e.style;return l.a.createElement("div",{className:"".concat(n.root," ").concat(c," ").concat(r?n.odd:""),style:i},t)}),u=Object(o.a)({fretMarker:{color:"purple"}})(function(e){var t=e.classes.fretMarker,n=e.frets;return r.a.range(r.a.last(n)+1).map(function(e){return r.a.includes(n,e)?e:""}).map(function(e,n){return l.a.createElement(s,{className:t,key:n},e)})}),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return{10:"\u0aea",11:"\u0190"}[e%t]||e%t},m=function(e){e.classes;var t=e.isOdd,n=e.isSolfege,a=void 0!==n&&n,c=e.showOctave,r=void 0!==c&&c,i=e.n,o=e.style,u=void 0===o?a?{borderStyle:"solid",borderWidth:1,width:70}:null:o;return l.a.createElement(s,{isOdd:t,style:u},a?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return{0:"oh",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"sev",8:"eight",9:"nine",10:"ten",11:"el"}[e%t]||e%t}(i):d(i),r&&l.a.createElement("div",{style:{bottom:"15%",fontSize:"0.4em",position:"absolute",right:"10%"}},Math.floor(i/12)))},h=[1,3,5,7,10,12,15,17,19],p=function(){return l.a.createElement("div",{style:{display:"block",flexShrink:0}},l.a.createElement(u,{frets:h}),l.a.createElement("br",null),[0,9,5,0,0].map(function(e,t){return l.a.createElement(l.a.Fragment,{key:t},r.a.range(23).map(function(t){return(t+e)%12}).map(function(e,n){return 4===t&&n<5?l.a.createElement(s,{key:n}):l.a.createElement(m,{key:n,n:e})}),l.a.createElement("br",null))}),l.a.createElement(u,{frets:h}))},v=n(212),f=n(15),g=function(e){var t=e.fretCount,n=e.fretMarkers,a=e.tuning;return l.a.createElement("div",{style:{display:"block",flexShrink:0}},l.a.createElement(u,{frets:n}),l.a.createElement("br",null),Object(f.a)(a).reverse().map(function(e,n){return l.a.createElement(l.a.Fragment,{key:n},r.a.range(t+1).map(function(t){return(t+e)%12}).map(function(e,t){return l.a.createElement(m,{key:t,n:e})}),l.a.createElement("br",null))}),l.a.createElement(u,{frets:n}))},E=[4,9,2,7,11,4],b=function(){return l.a.createElement(g,{fretCount:24,fretMarkers:[0,5,7,12,15,17,19,24],tuning:E})},M=function(){return l.a.createElement("div",{style:{height:"100%",overflowY:"auto",padding:"20% 10%"}},l.a.createElement("h1",null,"musicality.computer"),l.a.createElement("h2",null,"12ET pitch-class symbols:"),l.a.createElement("pre",null,r.a.range(12).map(function(e){return l.a.createElement(m,{key:e,n:e})})),l.a.createElement("h3",null,"12ET pitch-classes as solfege syllables:"),r.a.range(12).map(function(e){return l.a.createElement(m,{key:e,isSolfege:!0,n:e})}))},y=function(){return l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},r.a.range(6).map(function(e){return l.a.createElement("div",{style:{margin:"1em"}},r.a.range(13).map(function(t){return l.a.createElement(l.a.Fragment,null,r.a.range(13).map(function(n){return l.a.createElement(m,{key:n,n:e+n*t})}),l.a.createElement("br",null))}))}))},k=n(2),C=n(1),z=n(5),w=n(4),x=n(6),S=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(z.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(c)))).state={text:""},n.handleKeyPress=function(e){var t={Backquote:"0",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"\u0aea",Minus:"\u0190",Equal:"0",Numpad0:"0",Numpad1:"1",Numpad2:"2",Numpad3:"3",Numpad4:"4",Numpad5:"5",Numpad6:"6",Numpad7:"7",Numpad8:"8",Numpad9:"9",NumpadDivide:"\u0aea",NumpadMultiply:"\u0190",NumpadDecimal:" ",NumpadEnter:"\n",Enter:"\n",Space:" "}[e.code];t&&(e.preventDefault(),n.setState({text:n.state.text+t}))},n.handleChange=function(e){var t=e.target.value;return n.setState({text:t})},n}return Object(x.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypress",this.handleKeyPress)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Use the numpad to enter pitch classes"),l.a.createElement("textarea",{cols:24,rows:20,onChange:this.handleChange,style:{background:"black",color:"darkgray",fontSize:20},value:this.state.text}))}}]),t}(i.Component),O=n(61),j=n.n(O),I=n(17),D=n.n(I),L=n(12),T=(n(118),n(22)),P=n(101),N=n.n(P),R=n(109),A=n.n(R),V=n(108),F=n.n(V),H=n(110),_=n.n(H),q=n(105),W=n.n(q),K=n(84),B=n.n(K),G=n(83),U=n.n(G),X=n(103),Y=n.n(X),J=n(106),Z=n.n(J),Q=n(104),$=n.n(Q),ee=n(107),te=n.n(ee),ne=n(111),ae=n.n(ne),ce=n(68),re={input:void 0,inputDevices:[],isMidiClockInSelectorOpen:!1,isMidiInSelectorOpen:!1,midiClockInDevice:void 0,midiInDevice:void 0,midiIn:r.a.zipObject(r.a.range(128),r.a.fill(new Array(128),0)),outputDevices:[]},ie={setInputDevices:function(e,t){return e.setState({inputDevices:t})},setOutputDevices:function(e,t){return e.setState({outputDevices:t})},setMidiEvent:function(e,t){return e.setState({midiIn:r.a.merge(e.state.midiIn,t)})},setMidiClockInDevice:function(e,t){return e.setState({midiClockInDevice:t})},setMidiInDevice:function(e,t){return e.setState({midiInDevice:t})},toggleMidiInSelector:function(e){return e.setState({isMidiInSelectorOpen:!e.state.isMidiInSelectorOpen})},toggleMidiClockInSelector:function(e){return e.setState({isMidiClockInSelectorOpen:!e.state.isMidiClockInSelectorOpen})}},le=Object(ce.a)(l.a,re,ie),oe=function(e,t,n){var c=le(function(e){return{midiClockInDevice:e.midiClockInDevice}},function(e){return e}),r=Object(a.a)(c,2),l=r[0].midiClockInDevice,o=(r[1],0);return Object(i.useEffect)(function(){var c=function(t){o++,e&&e({tick:o})},r=function(e){t&&t(),console.log("stop")},i=function(e){var t=Object(a.a)(e.data,3),c=6*(t[1]+128*t[2]);console.log("SPP",c),n&&n(c)};return l&&(l.addListener("clock","all",c),l.addListener("stop","all",r),l.addListener("songposition","all",i)),function(){l&&(l.removeListener("clock","all",c),l.removeListener("stop","all",r),l.removeListener("songposition","all",i))}},[l]),{midiClockInDevice:l,reset:function(){o=0}}},se=n(102),ue=n.n(se),de=function(e,t){var n=Object(i.useState)(t),c=Object(a.a)(n,2),r=c[0],l=c[1],o=Object(i.useState)(null),s=Object(a.a)(o,2),u=s[0],d=s[1],m=Object(i.useState)(null),h=Object(a.a)(m,2),p=h[0],v=h[1];u&&(u.setState=l,u.state=r);var f=Object(i.useCallback)(function(t){if(t){var n=new ue.a(e,t);d(n),n._height=t.clientHeight,n._width=t.clientWidth;var c=new ResizeObserver(function(e){var t=Object(a.a)(e,1)[0].contentRect,c=t.height,r=t.width;n.resizeCanvas(r,c),r+c>0&&l(function(e){return Object(T.a)({},e,{isRegenNeeded:!0})})});v(c),c.observe(t)}else p&&p.disconnect()},[]);return{sketchInstance:u,sketchState:r,setSketchState:l,ref:f}};function me(e,t,n){var a,c,r,i,l,o,s,u;switch(1===arguments.length&&(t=e.s,n=e.v,e=e.h),o=n*(1-t),s=n*(1-(l=6*e-(i=Math.floor(6*e)))*t),u=n*(1-(1-l)*t),i%6){case 0:a=n,c=u,r=o;break;case 1:a=s,c=n,r=o;break;case 2:a=o,c=n,r=u;break;case 3:a=o,c=s,r=n;break;case 4:a=u,c=o,r=n;break;case 5:a=n,c=o,r=s}return function(e){var t=e.r,n=e.g,a=e.b;function c(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+c(t)+c(n)+c(a)}({r:Math.round(255*a),g:Math.round(255*c),b:Math.round(255*r)})}!function(){var e=[],t="zero-timeout-message";window.addEventListener("message",function(n){n.source==window&&n.data==t&&(n.stopPropagation(),e.length>0&&e.shift()())},!0),window.setZeroTimeout=function(n){e.push(n),window.postMessage(t,"*")}}();var he={audioPan:0,decayDuration:1e3,exciteEnergy:.05,exciteDuration:50,fundamentalFreq:200,hilbertN:64,hilbMand:[],isControlPanelOpen:!0,isPlaying:!1,isRegenNeeded:!0,maxIters:4096,midiClock:0,midiClocksPerTick:24,panX:-.05,panY:0,partials:{},partialsCountMax:16,isSmooth:!1,tick:0,tickDuration:100,tickLastMillis:0,zoom:1.2},pe=new AudioContext,ve=[],fe=pe.createGain(),ge=pe.createStereoPanner();window.masterGain=fe,fe.gain.value=1,fe.connect(ge),ge.connect(pe.destination);var Ee=function(e){e.state=he;var t,n=function(e,t,n,a){if(0===a){1===n&&(t.x=e-1-t.x,t.y=e-1-t.y);var c=t.x;t.x=t.y,t.y=c}},a=function(e,t){return r.a.reduce(e,function(e,n,a){return e+n*t[a]},0)},c=function(t,n,c,r,i,l){var o=function(e,t){return{x:3.5*e-2.5,y:2*t-1}}(.5-c+(t-.5)/i,.5-r+(n-.5)/i),s=o.x,u=o.y;return e.state.isSmooth?function(e,t,n){for(var c,r,i=[0,0],l=0,o=0;o<n&&(c=i[0],r=i[1],i[0]=c*c-r*r+e,i[1]=2*c*r+t,!(a(i,i)>65536));o++)l++;return l>=n?n:l-Math.log2(Math.log2(a(i,i)))+4}(s,u,l):function(e,t,n){for(var a=0,c=0,r=0;a*a+c*c<4&&r<n;){var i=a*a-c*c+e;c=2*a*c+t,a=i,r++}return r}(s,u,l)},i=r.a.memoize(function(e){return r.a.range(e*e).map(function(t){return function(e,t){for(var a={x:0,y:0},c=1;c<e;c*=2){var r=1&t/2,i=1&(t^r);n(c,a,r,i),a.x+=c*r,a.y+=c*i,t/=4}return a}(e,t)})}),l=function(t){var n=t/e.state.hilbertN;return 1*Math.min(10,n/20)},o=r.a.memoize(function(e){return r()(100).range().map(function(e){return Math.pow(2,e)}).dropWhile(function(t){return e/t>=2}).first()}),s=function(t){var n=t.m,a=t.p,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.state,i=r.maxIters,l=r.partialsCountMax,s=o(l),u=o(a),d=255*Math.log2(a/u),m=c?0:255-225*Math.pow(u/s,2),h=c?255:n===i?0:30+225*Math.pow(u/s,2);return e.color(d,m,h,c?.7:255)},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.fill(s(t,n))},d=function(t,n,a,c){var r=t/c,i=n/c;e.rect(a.x*r,a.y*i,r,i)},m=function(t,n,a){var c=a.hilbertN,r=a.hilbMand,i=l(e.width/2);e.strokeWeight(i),e.stroke(0);var o=h(r.length,e.width/4,e.height);r.forEach(function(a,r){u(a),e.push(),e.translate(e.width/4,0),d(t,n,a,c),e.pop(),e.push(),e.translate(e.width/4*3,0),p(e.width/4,o,r),e.pop()})},h=function(e,t,n){for(var a=t*n,c=Math.sqrt(a/e),r=0,i=1;i<t;i++)if(!((r=t/i)>c)){var l=t/r;if(e/l*r+(e%l>0?r:0)<=n)break}return r},p=function(t,n,a){var c=t/n,r=a%c,i=Math.floor(a/c);i%2===1&&(r=c-(r+1)),e.rect(r*n,i*n,n,n)},v=function(){e.background(32),ve.forEach(function(e){var t=e.gain;t.gain.cancelScheduledValues(pe.currentTime),t.gain.linearRampToValueAtTime(0,pe.currentTime+.5)});var t=e.state,n=t.fundamentalFreq,a=t.partialsCountMax;ve.length!==a&&(ve.forEach(function(e){var t=e.osc;e.gain,t.stop()}),ve=r.a.range(e.state.partialsCountMax).map(function(){var e=pe.createOscillator(),t=pe.createGain();return t.gain.value=0,e.connect(t),t.connect(fe),e.start(),{osc:e,gain:t}}),window.oscs=ve);var l=function(){var t=e.state,n=t.hilbertN,a=t.maxIters,r=t.panX,l=t.panY,o=t.partialsCountMax,s=t.zoom;return i(n).map(function(e){var t=e.x,i=e.y,u=c(t/n,i/n,r,l,s,a);return{x:t,y:i,m:u,p:u===a?0:Math.floor((u-1)%o+1)}})}(),o=r()(l).map(function(e){return e.p}).filter(r.a.identity).uniq().sort().take(a).map(function(e,t){return[e,{amp:0,oscIdx:t}]}).fromPairs().value();r.a.each(o,function(e,t){var a=e.decayTimerId,c=e.oscIdx,r=e.zeroGainTimerId;clearTimeout(a),clearTimeout(r),ve[c].osc.frequency.cancelScheduledValues(pe.currentTime),ve[c].osc.frequency.linearRampToValueAtTime(t*n,pe.currentTime+1)}),e.setState(function(t){var n=Object(T.a)({},t,{hilbMand:l,isRegenNeeded:!1,partials:o});return m(e.width/2,e.height,n),n})},f=0,g=function(t){var n=e.state.hilbMand,a=e.state.tick%n.length,c=n[a],r=h(n.length,e.width/4,e.height),i=l(e.width/2);e.strokeWeight(i),function(t,n,a){var c=e.state.hilbMand[a%t];u(c),e.stroke(0),e.push(),e.translate(e.width/4,0),d(e.width/2,e.height,c,e.state.hilbertN),e.pop(),e.push(),e.translate(e.width/4*3,0),p(e.width/4,n,a),e.pop()}(n.length,r,f),f=a,e.stroke(20*t%255,0,255),u(c,!0),e.push(),e.translate(e.width/4,0),d(e.width/2,e.height,c,e.state.hilbertN),e.pop(),e.push(),e.translate(e.width/4*3,0),p(e.width/4,r,a),e.pop()},E=function(){var t=e.height,n=e.width/4;e.noStroke();var a=e.state,c=a.partials,i=a.partialsCountMax;r.a.each(c,function(a,c){var r=a.amp,l=a.oscIdx,o=t/i,u=t*((c-1)/i),d=ve[l].gain.gain.value*n,m=s({m:1,p:c});e.fill(e.color(e.hue(m),255,8)),e.rect(0,u,n,o),e.fill(m),e.rect(0,u,d,o),e.fill(255),e.rect(r*n,u,1,o)})},b=!0;e.preload=function(){t=e.loadFont("JetBrainsMono-Regular.ttf")},e.setup=function(){e.createCanvas(e._width,e._height),e.colorMode(e.HSB),e.textFont(t),e.incrementTick()},e.incrementTick=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.millis(),a=e.state,c=a.isPlaying,i=a.isRegenNeeded,l=a.midiClocksPerTick,o=a.tickDuration,s=a.tickLastMillis;t&&e.state.midiClock++,!i&&(t?e.state.midiClock%l===0:c&&n>s+o)&&(e.state.tick++,e.state.tickLastMillis=n,function(t){var n=e.state,a=n.audioPan,c=n.decayDuration,i=n.exciteEnergy,l=n.exciteDuration,o=n.hilbMand,s=n.partials,u=n.tick;ge.pan.value=a;var d=o[u%o.length].p;if(d>0){var m=s[d],h=m.amp,p=m.decayTimerId,v=m.oscIdx,f=m.zeroGainTimerId,g=ve[v].gain,E=r.a.isNumber(p)?h:g.gain.value,b=.8*Math.min(1,E+i*(1-E));m.amp=b,clearTimeout(p),clearTimeout(f),g.gain.cancelScheduledValues(0),g.gain.linearRampToValueAtTime(b,pe.currentTime+l/1e3),m.decayTimerId=setTimeout(function(){g.gain.exponentialRampToValueAtTime(1e-5,pe.currentTime+c/1e3),m.decayTimerId=null,m.zeroGainTimerId=setTimeout(function(){m.amp=0},c)},l)}}()),t||0!==e.state.midiClock||window.setZeroTimeout(e.incrementTick)};var M=0;e.draw=function(){var t=e.state,n=t.isPlaying,a=t.isRegenNeeded;t.midiClock;a&&v(),r.a.every([!a,e.state.tick!==M])&&(g(0),M=e.state.tick),n&&E(),e.state.isPlaying||e.state.isControlPanelOpen?b&&(E(),m(e.width/2,e.height,e.state),b=!1):(b=!0,e.background(0,.1),e.noFill(),e.stroke(192,127,90),e.textSize(10),e.text("arrow keys to move",0,e.height/2-50,e.width,e.height),e.text("shift+arrow for zoom/resolution",0,e.height/2-35,e.width,e.height),e.text("shift+spacebar toggle controls",0,e.height/2-20,e.width,e.height),e.textSize(20),e.textAlign(e.CENTER),e.text("spacebar to start",0,e.height/2,e.width,e.height))},e.toggleAudio=function(){e.setState(function(e){var t=e.isPlaying;return t||"running"===pe.state||pe.resume(),t&&"running"===pe.state&&pe.suspend(),Object(T.a)({},e,{isPlaying:!e.isPlaying})})}},be=n(205),Me=n(172),ye=n(219),ke=n(206),Ce=Object(be.a)({paper:{background:"rgba(0,0,0,0.7)",paddingBottom:65}}),ze=function(e){var t=e.initialVal,n=void 0===t?1:t,c=e.isInt,o=void 0!==c&&c,s=e.isRegenRequired,u=void 0!==s&&s,d=e.label,m=void 0===d?"":d,h=e.max,p=void 0===h?Number.MAX_VALUE:h,v=e.min,f=void 0===v?Number.MIN_VALUE:v,g=e.precision,E=void 0===g?6:g,b=e.setSketchState,M=e.size,y=void 0===M?240:M,k=e.sketchState,C=e.stateKey,z=function(e){return Math.min(Math.max(o?Math.round(e):e,f),p)},w=function(e){var t=z(e),n=Math.log2(t),a=Math.floor(n);return{deg:Math.floor(2048*(n-a)),exp:a,numberInputVal:t}},x=Object(i.useState)(function(){return w(n)}),S=Object(a.a)(x,2),O=S[0],j=S[1];Object(i.useEffect)(function(){r.a.defer(function(){return j(w(n))})},[]);return l.a.createElement("div",{style:{flex:"0 ".concat(y+40,"px"),height:y+40,marginBottom:40}},l.a.createElement("div",{style:{height:"3em"}},m||"".concat(C,": ").concat(k[C])),l.a.createElement("div",{style:{paddingTop:10,position:"relative"},onPointerUp:function(){k.isRegenNeeded=u}},l.a.createElement(N.a,{dataIndex:O.deg,min:0,max:2047,knobColor:"#AAA",knobSize:60,label:"Fundamental Frequency",renderLabelValue:l.a.createElement("input",{type:"number",style:{background:"none",border:"none",color:"white",fontSize:"".concat(y/100,"em"),left:"50%",marginLeft:"-40%",marginTop:"-0.5em",position:"absolute",textAlign:"center",top:"50%",width:"80%",zIndex:3},value:o?O.numberInputVal:O.numberInputVal.toPrecision(E),onChange:function(e){j(Object(T.a)({},O,{numberInputVal:Number(e.target.value)}))},onKeyDown:function(e){if("Enter"===e.key){var t=w(O.numberInputVal);j(t),r.a.defer(function(){j(t),b(function(e){var n;return Object(T.a)({},e,(n={},Object(L.a)(n,C,t.numberInputVal),Object(L.a)(n,"isRegenNeeded",u),n))})})}}}),onChange:function(e){var t=O.deg,n=O.exp,a=e>=0&&e<2048/3&&t>2048-2048/3?n+1:t>=0&&t<2048/3&&e>2048-2048/3?n-1:n,c=z(Math.pow(2,a+e/2048));j({deg:e,exp:a,numberInputVal:c}),b(function(e){return Object(T.a)({},e,Object(L.a)({},C,c))})},progressColorFrom:me(O.exp/15,1,1),progressColorTo:me((O.exp+1)/15,1,1),progressLineCap:"flat",trackColor:"#666",height:y,width:y})))},we=function(){var e=de(Ee,he),t=e.ref,n=e.sketchInstance,a=e.sketchState,c=e.setSketchState;window.sketchInstance=n;var o=function(e){return function(t){return function(){"toggleAudio"!==t?e.setState(function(e){var n=e.hilbertN,a=e.isControlPanelOpen,c=e.isRegenNeeded,i=e.panX,l=e.panY,o=e.zoom,s=.1/o,u={moveLeft:{panX:i+s},moveRight:{panX:i-s},moveUp:{panY:l+s},moveDown:{panY:l-s},resDec:{hilbertN:Math.pow(2,Math.log2(n)-1)},resInc:{hilbertN:Math.min(256,Math.pow(2,Math.log2(n)+1))},toggleControlPanel:{isControlPanelOpen:!a,isRegenNeeded:c},zoomIn:{zoom:o*(10/9)},zoomOut:{zoom:.9*o}}[t];return Object(T.a)({},e,{isRegenNeeded:!r.a.isEmpty(u)},u)}):e.toggleAudio()}}}(n);Object(i.useEffect)(function(){if(document.title="Mandelbrot Muse",n){var e=function(e){return function(t){var n=t.code,a=t.shiftKey,c=t.key;if("Space"!==n){var r={ArrowDown:function(){return a?"zoomOut":"moveDown"},ArrowLeft:function(){return a?"resDec":"moveLeft"},ArrowRight:function(){return a?"resInc":"moveRight"},ArrowUp:function(){return a?"zoomIn":"moveUp"}}[c];r&&e(r())()}else e(a?"toggleControlPanel":"toggleAudio")()}}(o);return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}},[n]);var s=oe(function(){n&&(n.state.isPlaying||c(function(e){return Object(T.a)({},e,{isPlaying:!0})}),n.incrementTick(!0))},function(){c(function(e){return Object(T.a)({},e,{isPlaying:!1})})},function(e){if(n){var t=n.state.midiClocksPerTick;n.state.midiClock=e,n.state.tick=Math.floor(e/t)}}).midiClockInDevice;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{ref:t,style:{alignSelf:"start",background:"radial-gradient(circle, rgba(74,153,117,1) 0%, rgba(188,148,233,0.6943726953672094) 100%)",height:"50vw",width:"100vw"}}),l.a.createElement("div",{style:{bottom:10,right:10,padding:0,position:"absolute",textAlign:"center",zIndex:1e6}},!a.isControlPanelOpen&&l.a.createElement(Me.a,{onClick:o("toggleControlPanel")},"show",l.a.createElement(Y.a,null),"controls"),l.a.createElement(ye.a,{anchor:"bottom",classes:Ce(),color:"transparent",open:a.isControlPanelOpen,onClose:o("toggleControlPanel"),variant:"persistent"},l.a.createElement(ke.a,{fullWidth:!0,size:"large"},l.a.createElement(Me.a,{onClick:o("toggleAudio")},a.isPlaying?l.a.createElement(B.a,null):l.a.createElement(U.a,null)),l.a.createElement(Me.a,{onClick:o("toggleControlPanel")},"hide controls")),l.a.createElement(ke.a,{fullWidth:!0,size:"large"},l.a.createElement(Me.a,{onClick:o("resDec")},l.a.createElement($.a,null)),l.a.createElement(Me.a,{onClick:o("moveUp")},l.a.createElement(W.a,null)),l.a.createElement(Me.a,{onClick:o("resInc")},l.a.createElement(Z.a,null)),l.a.createElement(Me.a,{onClick:o("zoomIn")},l.a.createElement(te.a,null))),l.a.createElement(ke.a,{fullWidth:!0,size:"large"},l.a.createElement(Me.a,{onClick:o("moveLeft")},l.a.createElement(F.a,null)),l.a.createElement(Me.a,{onClick:o("moveDown")},l.a.createElement(A.a,null)),l.a.createElement(Me.a,{onClick:o("moveRight")},l.a.createElement(_.a,null)),l.a.createElement(Me.a,{onClick:o("zoomOut")},l.a.createElement(ae.a,null))),l.a.createElement("br",null),l.a.createElement(ze,{initialVal:60,isRegenRequired:!0,label:"Fundamental frequency (Hz)",stateKey:"fundamentalFreq",sketchState:a,setSketchState:c}),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},l.a.createElement(ze,{initialVal:16,isInt:!0,isRegenRequired:!0,label:"Number of partials",max:1024,min:1,precision:1,setSketchState:c,size:120,sketchState:a,stateKey:"partialsCountMax"}),l.a.createElement(ze,{initialVal:4096,isInt:!0,isRegenRequired:!0,label:"Mandelbrot iterations",max:8192,min:64,setSketchState:c,size:120,sketchState:a,stateKey:"maxIters"}),s?l.a.createElement(ze,{key:s,isInt:!0,min:1,max:1024,initialVal:24,label:"MIDI clocks per tick",size:120,stateKey:"midiClocksPerTick",sketchState:a,setSketchState:c}):l.a.createElement(ze,{key:s,initialVal:100,label:"Tick duration (ms)",size:120,stateKey:"tickDuration",sketchState:a,setSketchState:c}),l.a.createElement(ze,{initialVal:50,label:"Excite duration (ms)",size:120,stateKey:"exciteDuration",sketchState:a,setSketchState:c}),l.a.createElement(ze,{initialVal:1e3,label:"Decay duration (ms)",size:120,stateKey:"decayDuration",sketchState:a,setSketchState:c}),l.a.createElement(ze,{initialVal:.05,label:"Excite energy",precision:4,size:120,stateKey:"exciteEnergy",sketchState:a,setSketchState:c})),l.a.createElement(ke.a,{fullWidth:!0,size:"large"},l.a.createElement(Me.a,{onClick:o("toggleAudio")},a.isPlaying?l.a.createElement(B.a,null):l.a.createElement(U.a,null)),l.a.createElement(Me.a,{onClick:o("toggleControlPanel")},"hide controls")))))},xe=function(){return l.a.createElement(g,{fretCount:20,fretMarkers:[0,3,5,7,10,12,15],tuning:[7,2,9,4]})},Se={mediaStream:void 0},Oe=Object(ce.a)(l.a,Se,{setMediaStream:function(e,t){return e.setState({mediaStream:t})}}),je=n(207),Ie=n(208),De=n(209),Le=function(){var e=Oe(function(e){return{mediaStream:e.mediaStream}},function(e){return e}),t=Object(a.a)(e,2),n=t[0],c=t[1],r=!!n.mediaStream;return l.a.createElement(l.a.Fragment,null,l.a.createElement(je.a,{edge:"start",color:"inherit",onClick:r?function(){n.mediaStream.getTracks().forEach(function(e){return e.stop()}),c.setMediaStream(void 0)}:function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){c.setMediaStream(e)})}},r?l.a.createElement(Ie.a,null):l.a.createElement(De.a,null)))},Te=n(218),Pe=n(220),Ne=function(){return l.a.createElement("svg",{className:"MuiSvgIcon-root",style:{transform:"scale(1.5)"},viewBox:"0 0 100 100"},l.a.createElement("path",{d:"M-35.146,176.527c0.179,0.52,0.775,0.946,1.325,0.946h3.5c0.55,0,0.709,0.343,0.353,0.763l-9.706,11.446  c-0.356,0.419-0.945,0.426-1.31,0.014l-10.173-11.474c-0.365-0.412-0.213-0.748,0.337-0.748h4c0.55,0,0.835-0.419,0.634-0.931  l-10.269-26.138c-0.201-0.512,0.084-0.931,0.634-0.931h9c0.55,0,0.835-0.419,0.634-0.931l-10.269-26.138  c-0.201-0.512,0.084-0.931,0.634-0.931h14.5c0.55,0,1.127,0.432,1.282,0.959l11.186,38.081c0.155,0.528-0.168,0.959-0.718,0.959  h-9.75c-0.55,0-0.854,0.426-0.675,0.946L-35.146,176.527z"}),l.a.createElement("path",{d:"M-139.085,142.885c1.738,2.029,2.818,5.84,2.818,9.948c0,3.918-0.962,7.524-2.573,9.644l2.434,1.848  c2.001-2.633,3.196-6.93,3.196-11.493c0-4.877-1.328-9.34-3.552-11.936L-139.085,142.885z"}),l.a.createElement("path",{d:"M-129.131,133.308l-2.32,1.989c3.123,3.645,5.064,10.415,5.064,17.669c0,6.911-1.722,13.304-4.607,17.102l2.434,1.849  c3.275-4.31,5.23-11.395,5.23-18.95C-123.331,144.895-125.499,137.546-129.131,133.308z"}),l.a.createElement("path",{d:"M-121.011,126.306l-2.32,1.989c4.402,5.138,7.137,14.638,7.137,24.793c0,9.672-2.425,18.638-6.485,23.983l2.434,1.849  c4.45-5.857,7.107-15.514,7.107-25.831C-113.138,142.071-116.081,132.059-121.011,126.306z"}),l.a.createElement("path",{d:"M-164.222,138.428c-2.091,2.07-6.513,4.545-11.443,4.545v0.004c-2.465,0.081-4.531,4.357-4.531,9.622  s2.066,9.541,4.531,9.622v0.004c4.93,0,9.418,2.503,11.499,4.571c-1.708-3.721-2.737-8.701-2.737-14.246  C-166.903,147.066-165.896,142.136-164.222,138.428z"}),l.a.createElement("path",{d:"M-152.596,128.72c-5.631,0-10.196,10.473-10.196,23.392s4.565,23.392,10.196,23.392s10.196-10.473,10.196-23.392  S-146.965,128.72-152.596,128.72z M-156.715,159.95c-0.988-1.74-1.683-4.459-1.683-7.796s0.695-6.056,1.683-7.796  c2.938,0.025,5.315,3.505,5.315,7.796S-153.777,159.925-156.715,159.95z"}),l.a.createElement("path",{d:"M-207.989,143.385c1.738,2.029,2.818,5.84,2.818,9.948c0,3.918-0.962,7.524-2.573,9.644l2.434,1.848  c2.001-2.633,3.196-6.93,3.196-11.493c0-4.877-1.328-9.34-3.552-11.936L-207.989,143.385z"}),l.a.createElement("path",{d:"M-198.035,133.808l-2.32,1.989c3.123,3.645,5.064,10.415,5.064,17.669c0,6.911-1.722,13.304-4.607,17.102l2.434,1.849  c3.275-4.31,5.23-11.395,5.23-18.95C-192.234,145.395-194.402,138.046-198.035,133.808z"}),l.a.createElement("path",{d:"M-233.125,138.928c-2.091,2.07-6.513,4.545-11.443,4.545v0.004c-2.465,0.081-4.531,4.357-4.531,9.622  s2.066,9.541,4.531,9.622v0.004c4.93,0,9.418,2.503,11.499,4.571c-1.708-3.721-2.737-8.701-2.737-14.246  C-235.806,147.566-234.799,142.636-233.125,138.928z"}),l.a.createElement("path",{d:"M-221.499,129.22c-5.631,0-10.196,10.473-10.196,23.392s4.565,23.392,10.196,23.392s10.196-10.473,10.196-23.392  S-215.868,129.22-221.499,129.22z M-225.618,160.45c-0.988-1.74-1.683-4.459-1.683-7.796s0.695-6.056,1.683-7.796  c2.938,0.025,5.315,3.505,5.315,7.796C-220.304,156.945-222.68,160.425-225.618,160.45z"}),l.a.createElement("path",{d:"M37.144,150.017c1.738,2.029,2.818,5.84,2.818,9.948c0,3.918-0.962,7.524-2.573,9.644l2.434,1.848  c2.001-2.633,3.196-6.93,3.196-11.493c0-4.877-1.328-9.34-3.552-11.936L37.144,150.017z"}),l.a.createElement("path",{d:"M12.008,145.56c-2.091,2.07-6.513,4.545-11.443,4.545v0.004c-2.465,0.081-4.531,4.357-4.531,9.622s2.066,9.541,4.531,9.622  v0.004c4.93,0,9.418,2.503,11.499,4.571c-1.708-3.721-2.738-8.701-2.738-14.246C9.326,154.198,10.333,149.267,12.008,145.56z"}),l.a.createElement("path",{d:"M23.634,135.852c-5.631,0-10.196,10.473-10.196,23.392s4.565,23.392,10.196,23.392s10.196-10.473,10.196-23.392  S29.265,135.852,23.634,135.852z M19.515,167.081c-0.988-1.74-1.683-4.459-1.683-7.796s0.695-6.056,1.683-7.796  c2.938,0.025,5.315,3.505,5.315,7.796S22.453,167.056,19.515,167.081z"}),l.a.createElement("path",{d:"M284.762,158.47c-4.778,0-8.787,7.542-9.893,17.719l14.814-14.814C288.225,159.526,286.548,158.47,284.762,158.47z"}),l.a.createElement("path",{d:"M285.384,178.403c0.364,1.054,0.574,2.241,0.574,3.501c0,4.291-2.377,7.771-5.315,7.796c-0.7-1.232-1.246-2.962-1.51-5.047  l-4.115,4.115c1.284,9.548,5.161,16.486,9.744,16.486c5.631,0,10.196-10.473,10.196-23.392c0-4.253-0.497-8.236-1.362-11.673  L285.384,178.403z"}),l.a.createElement("polygon",{points:"283.842,175.702 292.611,166.933 300.121,159.423 298,157.302 291.329,163.973 281.152,174.15 280.14,175.161   274.579,180.723 270.532,184.77 263.24,192.061 252,203.302 254.121,205.423 266.735,192.809 270.93,188.614 274.654,184.89   279.003,180.541 "}),l.a.createElement("path",{d:"M270.495,180.564c0.189-4.785,1.146-9.075,2.642-12.386c-2.091,2.07-6.513,4.545-11.443,4.545v0.004  c-2.465,0.081-4.531,4.357-4.531,9.622c0,3.924,1.148,7.296,2.754,8.794L270.495,180.564z"}),l.a.createElement("path",{d:"M269.713,194.073c1.454,0.772,2.657,1.656,3.479,2.473c-0.606-1.32-1.122-2.805-1.541-4.411L269.713,194.073z"}),l.a.createElement("path",{d:"M330.843,167.678c-2.091,2.07-6.513,4.545-11.443,4.545v0.004c-2.465,0.081-4.531,4.357-4.531,9.622  s2.066,9.541,4.531,9.622v0.004c4.93,0,9.418,2.503,11.499,4.571c-1.708-3.721-2.737-8.701-2.737-14.246  C328.162,176.316,329.169,171.386,330.843,167.678z"}),l.a.createElement("path",{d:"M348.574,193.029l-1.414-1.414l-2.121-2.121l-1.414-1.414l1.414-1.414l5.303-5.303l-5.303-5.303l-1.414-1.414l1.414-1.414  l2.121-2.121l1.414-1.414l1.414,1.414l2.026,2.026c-1.451-8.859-5.177-15.165-9.546-15.165c-5.631,0-10.196,10.473-10.196,23.392  s4.565,23.392,10.196,23.392c4.369,0,8.094-6.306,9.546-15.165l-2.026,2.026L348.574,193.029z M338.35,189.2  c-0.988-1.74-1.683-4.459-1.683-7.796c0-3.336,0.695-6.056,1.683-7.796c2.938,0.025,5.315,3.505,5.315,7.796  C343.665,185.695,341.288,189.175,338.35,189.2z"}),l.a.createElement("polygon",{points:"364.131,174.645 362.009,172.523 355.292,179.241 348.574,172.523 346.453,174.645 352.659,180.851   353.171,181.362 346.453,188.08 348.574,190.201 355.292,183.484 362.009,190.201 364.131,188.08 357.413,181.362 "}),l.a.createElement("path",{d:"M532.913,169.595v-0.475c5.377-0.736,9.537-5.346,9.537-10.922c0-6.085-4.951-11.037-11.037-11.037  c-6.085,0-11.036,4.951-11.036,11.037c0,5.575,4.159,10.186,9.536,10.922v0.475c-5.108,0.331-9.764,2.334-13.43,5.468l-1.388-1.388  l0.625-0.625c0.391-0.391,0.391-1.024,0-1.414l-4.361-4.36c-0.391-0.391-1.024-0.391-1.414,0l-3.372,3.372  c-0.391,0.391-0.391,1.024,0,1.414l4.36,4.361c0.391,0.391,1.024,0.391,1.414,0l0.626-0.626l1.357,1.357  c-3.682,4.081-5.929,9.482-5.929,15.399c0,12.688,10.323,23.012,23.011,23.012s23.012-10.323,23.012-23.012  C554.425,180.368,544.905,170.371,532.913,169.595z M523.378,158.198c0-4.432,3.605-8.037,8.036-8.037  c4.432,0,8.037,3.605,8.037,8.037c0,3.918-2.821,7.185-6.537,7.891v-2.807h0.885c0.552,0,1-0.448,1-1v-6.167c0-0.552-0.448-1-1-1  h-4.769c-0.552,0-1,0.448-1,1v6.167c0,0.552,0.448,1,1,1h0.884v2.807C526.198,165.383,523.378,162.116,523.378,158.198z   M531.413,212.563c-11.034,0-20.011-8.978-20.011-20.012s8.977-20.011,20.011-20.011s20.012,8.977,20.012,20.011  S542.447,212.563,531.413,212.563z"}),l.a.createElement("path",{d:"M531.413,175.54c-0.239,0-0.471,0.026-0.707,0.036v10.275c0.233-0.024,0.468-0.038,0.707-0.038  c3.716,0,6.738,3.023,6.738,6.739c0,0.177-0.007,0.353-0.02,0.528l7.944,8.056c1.483-2.523,2.349-5.451,2.349-8.583  C548.425,183.172,540.794,175.54,531.413,175.54z"}),l.a.createElement("path",{d:"M535.152,192.552c0-2.065-1.674-3.739-3.738-3.739s-3.739,1.674-3.739,3.739s1.674,3.738,3.739,3.738  c0.435,0,0.846-0.089,1.234-0.225l9.58,9.714l2.137-2.107l-9.515-9.648C535.043,193.572,535.152,193.075,535.152,192.552z"}),l.a.createElement("path",{d:"M612.769,174.993L612.769,174.993c-0.172-0.407-0.356-0.807-0.55-1.202c-0.042-0.087-0.088-0.171-0.132-0.257  c-0.152-0.3-0.309-0.596-0.474-0.888c-0.061-0.109-0.124-0.217-0.187-0.325c-0.163-0.278-0.331-0.552-0.505-0.823  c-0.06-0.094-0.119-0.189-0.181-0.281c-0.231-0.349-0.469-0.692-0.718-1.027c-0.004-0.006-0.008-0.012-0.012-0.017  c-0.262-0.352-0.535-0.695-0.816-1.031c-0.054-0.065-0.111-0.127-0.166-0.191c-0.224-0.262-0.454-0.52-0.69-0.772  c-0.079-0.085-0.16-0.169-0.241-0.252c-0.229-0.237-0.463-0.47-0.702-0.697c-0.075-0.071-0.148-0.143-0.224-0.213  c-0.637-0.591-1.306-1.148-2.007-1.665c-0.053-0.039-0.107-0.076-0.161-0.114c-0.296-0.214-0.596-0.422-0.902-0.623  c-0.088-0.058-0.177-0.114-0.265-0.17c-0.29-0.185-0.585-0.363-0.884-0.535c-0.081-0.047-0.161-0.094-0.243-0.14  c-0.77-0.431-1.567-0.82-2.388-1.161c-0.045-0.019-0.092-0.036-0.137-0.054c-0.358-0.146-0.721-0.283-1.089-0.412  c-0.093-0.033-0.187-0.064-0.28-0.095c-0.339-0.114-0.68-0.219-1.025-0.317c-0.088-0.025-0.175-0.051-0.264-0.075  c-1.923-0.522-3.943-0.805-6.028-0.805s-4.105,0.283-6.028,0.805c-0.088,0.024-0.176,0.05-0.264,0.075  c-0.345,0.098-0.687,0.204-1.025,0.317c-0.094,0.031-0.187,0.062-0.28,0.095c-0.367,0.129-0.73,0.266-1.089,0.412  c-0.046,0.019-0.092,0.035-0.137,0.054c-0.821,0.342-1.618,0.73-2.388,1.161c-0.082,0.046-0.162,0.093-0.243,0.14  c-0.299,0.172-0.594,0.35-0.884,0.535c-0.089,0.056-0.177,0.113-0.265,0.17c-0.306,0.2-0.607,0.408-0.902,0.623  c-0.053,0.039-0.108,0.075-0.161,0.114c-0.7,0.517-1.37,1.074-2.007,1.665c-0.076,0.07-0.149,0.142-0.224,0.213  c-0.239,0.227-0.473,0.46-0.702,0.697c-0.081,0.084-0.161,0.167-0.241,0.252c-0.236,0.252-0.465,0.509-0.69,0.772  c-0.055,0.064-0.111,0.126-0.166,0.191c-0.281,0.336-0.554,0.679-0.816,1.031c-0.004,0.006-0.008,0.012-0.012,0.017  c-0.249,0.335-0.487,0.679-0.718,1.027c-0.062,0.093-0.12,0.188-0.181,0.281c-0.174,0.271-0.342,0.545-0.505,0.823  c-0.063,0.108-0.126,0.216-0.187,0.325c-0.164,0.292-0.322,0.588-0.474,0.888c-0.044,0.086-0.089,0.17-0.132,0.257  c-0.194,0.395-0.379,0.795-0.55,1.201l0,0l0,0c-1.158,2.747-1.8,5.764-1.8,8.926c0,12.725,10.354,23.069,23.069,23.069  s23.069-10.344,23.069-23.069C614.569,180.756,613.927,177.74,612.769,174.993L612.769,174.993z M611.594,183.919  c0,11.078-9.015,20.094-20.094,20.094s-20.094-9.015-20.094-20.094c0-2.582,0.507-5.043,1.398-7.313l0,0  c0.147-0.375,0.307-0.742,0.476-1.106c0.034-0.073,0.07-0.144,0.105-0.217c0.329-0.687,0.693-1.353,1.096-1.995  c0.023-0.037,0.045-0.075,0.068-0.112c0.211-0.331,0.431-0.655,0.66-0.972c0.046-0.063,0.094-0.125,0.14-0.187  c0.001-0.002,0.003-0.004,0.004-0.006c0.424-0.573,0.876-1.121,1.356-1.645c0.01-0.011,0.021-0.023,0.031-0.034  c0.056-0.061,0.109-0.123,0.166-0.183c0.257-0.273,0.521-0.537,0.792-0.795c0.056-0.053,0.115-0.103,0.171-0.155  c0.014-0.013,0.029-0.026,0.043-0.039c0.496-0.457,1.013-0.887,1.552-1.293c0.108-0.081,0.215-0.164,0.325-0.243  c0.295-0.213,0.593-0.419,0.9-0.615c0.083-0.053,0.169-0.102,0.253-0.154c0.567-0.352,1.151-0.675,1.754-0.97  c0.044-0.021,0.088-0.042,0.132-0.064c0.093-0.045,0.186-0.091,0.28-0.135c0.329-0.152,0.661-0.299,0.999-0.434  c0.063-0.025,0.129-0.046,0.192-0.07c0.654-0.252,1.323-0.468,2.007-0.652c0.128-0.034,0.257-0.067,0.386-0.1  c0.033-0.008,0.066-0.018,0.099-0.026c0.354-0.085,0.708-0.167,1.069-0.233l0,0c1.182-0.218,2.396-0.347,3.64-0.347  s2.457,0.13,3.64,0.347l0,0c0.361,0.066,0.715,0.148,1.069,0.233c0.033,0.008,0.066,0.017,0.099,0.026  c0.129,0.032,0.258,0.065,0.386,0.1c0.684,0.184,1.354,0.4,2.007,0.652c0.064,0.025,0.129,0.045,0.192,0.07  c0.339,0.135,0.67,0.281,0.999,0.434c0.094,0.044,0.187,0.09,0.28,0.135c0.044,0.021,0.088,0.042,0.132,0.064  c0.602,0.295,1.187,0.618,1.754,0.97c0.084,0.052,0.17,0.1,0.253,0.154c0.307,0.197,0.605,0.403,0.9,0.615  c0.11,0.079,0.217,0.162,0.325,0.243c0.539,0.405,1.056,0.836,1.552,1.292c0.035,0.032,0.069,0.063,0.104,0.095  c0.036,0.034,0.074,0.066,0.11,0.1c0.272,0.258,0.535,0.523,0.792,0.795c0.056,0.06,0.11,0.122,0.166,0.183  c0.01,0.012,0.021,0.023,0.031,0.034c0.481,0.524,0.933,1.072,1.356,1.645c0.001,0.002,0.003,0.004,0.004,0.006  c0.046,0.063,0.095,0.124,0.14,0.187c0.229,0.318,0.449,0.641,0.66,0.972c0.023,0.037,0.045,0.075,0.068,0.112  c0.402,0.642,0.767,1.307,1.096,1.995c0.035,0.072,0.071,0.144,0.105,0.217c0.169,0.364,0.328,0.731,0.476,1.106l0,0  C611.087,178.876,611.594,181.337,611.594,183.919z"}),l.a.createElement("path",{d:"M605.757,155.737c-2.922,0-5.573,1.151-7.528,3.024c7.348,1.967,13.424,7.072,16.697,13.787  c1.099-1.701,1.741-3.724,1.741-5.901C616.667,160.621,611.782,155.737,605.757,155.737z"}),l.a.createElement("path",{d:"M602.513,171.216l-9.651,9.651c-0.417-0.186-0.876-0.295-1.362-0.295c-0.516,0-0.999,0.126-1.436,0.335l-5.955-5.68  l-2.054,2.153l6.164,5.88c-0.043,0.213-0.066,0.434-0.066,0.66c0,1.849,1.499,3.347,3.347,3.347s3.347-1.499,3.347-3.347  c0-0.256-0.034-0.502-0.089-0.741l9.858-9.858L602.513,171.216z"}),l.a.createElement("path",{d:"M584.771,158.76c-1.956-1.872-4.606-3.024-7.528-3.024c-6.025,0-10.91,4.884-10.91,10.91c0,2.177,0.641,4.2,1.741,5.901  C571.347,165.832,577.424,160.727,584.771,158.76z"}),l.a.createElement("polygon",{points:"-88.662,165.331 -70.751,147.482 -70.751,147.482 -56.52,133.299 -58.637,131.174 -71.714,144.206 -71.714,144.206   -89.857,162.287 -89.857,162.287 -104.796,177.174 -102.679,179.299 "}),l.a.createElement("path",{d:"M-84.891,149.473h-9c-0.55,0-0.835,0.419-0.634,0.931l3.473,8.84l18.377-18.314l-5.434-18.497  c-0.155-0.528-0.732-0.959-1.282-0.959h-14.5c-0.55,0-0.835,0.419-0.634,0.931l10.269,26.139  C-84.056,149.054-84.341,149.473-84.891,149.473z"}),l.a.createElement("path",{d:"M-69.789,150.758l-17.677,17.616l3.209,8.168c0.201,0.512-0.084,0.931-0.634,0.931h-4c-0.55,0-0.701,0.337-0.337,0.748  l10.173,11.474c0.365,0.412,0.954,0.405,1.31-0.014l9.706-11.446c0.356-0.419,0.197-0.763-0.353-0.763h-3.5  c-0.55,0-1.146-0.426-1.325-0.946l-4.85-14.109c-0.179-0.52,0.125-0.946,0.675-0.946h9.75c0.55,0,0.873-0.432,0.718-0.959  L-69.789,150.758z"}),l.a.createElement("path",{d:"M667.283,152.612h-29.565c-1.225,0-2.217,1.127-2.217,2.518v52.464c0,1.391,0.993,2.518,2.217,2.518h29.565  c1.225,0,2.217-1.128,2.217-2.518V155.13C669.5,153.74,668.507,152.612,667.283,152.612z M652.5,199.612c-5.238,0-9.5-4.262-9.5-9.5  s4.262-9.5,9.5-9.5s9.5,4.262,9.5,9.5S657.738,199.612,652.5,199.612z M652.5,161.158c1.905,0,3.455,1.55,3.455,3.455  s-1.55,3.455-3.455,3.455s-3.455-1.55-3.455-3.455S650.595,161.158,652.5,161.158z"}),l.a.createElement("circle",{cx:"652.5",cy:"190.112",r:"4.955"}),l.a.createElement("path",{d:"M740.401,182.582c0-15.109-12.292-27.401-27.401-27.401s-27.401,12.292-27.401,27.401c0,1.802,0.177,3.606,0.542,5.436  l2.71,10.726c0.193,2.308,1.797,4.354,4.163,4.988c0.969,0.26,1.946,0.248,2.854,0.016l0.421,1.571  c0.429,1.6,2.074,2.55,3.674,2.121l4.186-1.122c1.6-0.429,2.55-2.074,2.121-3.674l-4.141-15.455c-0.429-1.6-2.074-2.55-3.674-2.121  l-4.186,1.122c-1.6,0.429-2.55,2.074-2.121,3.674l0.798,2.976c-0.81,0.229-1.561,0.632-2.194,1.185l-1.685-6.667  c-0.31-1.563-0.467-3.17-0.467-4.777c0-13.455,10.946-24.401,24.401-24.401s24.401,10.946,24.401,24.401  c0,1.654-0.167,3.31-0.48,4.852l-1.686,6.655c-0.609-0.553-1.348-0.978-2.186-1.227l0.803-2.998c0.429-1.6-0.521-3.245-2.121-3.674  l-4.186-1.122c-1.6-0.429-3.245,0.521-3.674,2.121l-4.141,15.455c-0.429,1.6,0.521,3.245,2.121,3.674l4.186,1.122  c1.6,0.429,3.245-0.521,3.674-2.121l0.417-1.556c2.957,0.709,5.955-1.05,6.763-3.996l0,0l0.001-0.004  c0.003-0.009,0.006-0.018,0.009-0.027c0.004-0.016,0.006-0.032,0.01-0.048l2.933-11.585  C740.214,186.296,740.401,184.438,740.401,182.582z"}),l.a.createElement("path",{d:"M783.051,181.505c3.89-4.31,3.883-8.716,3.803-9.476c-0.04-1.27-0.61-13.342-13.25-13.342c-10.62,0-13.43,8.78-13.43,13.33  c-0.01,0.25-0.34,6.07,3.46,10.34c1.27,1.43,0.66,2.89-0.94,5.65c-1.16,1.99-2.657,4.591-1.817,6.671  c1.06,2.63,3.127,3.629,5.117,3.679c0.04,0,0.08,0,0.11,0c2.93,0,5.8-3.09,8.77-9.45c1.82-3.89,2.25-6.64,1.35-8.69  c-1.04-2.37-3.52-3.15-5.92-3.9c-3.53-1.12-7.466-2.549-6.64-7.34c0.88-3.08,3.29-7.29,9.94-7.29  c10.26,0,10.556,9.983,10.578,10.409c0,0,0.719,4.875-2.237,8.411L783.051,181.505z"}),l.a.createElement("path",{d:"M773.604,152.117c-19.77,0-19.188,19.8-19.188,20h1.375c0-0.05,0.62-4.307,2.75-8.567c2.79-5.59,8.002-8.433,15.062-8.433  c16.75,0,17,16.31,17,17c0,9.17-4.24,12.97-9.16,17.38c-1.96,1.76-3.5,4.52-5.13,7.43c-2.94,5.26-5.922,10.977-11.502,10.977  c-3.402,0-4.313-0.397-6.208-2.292c-2.35-2.36-2.794-6.106-2.794-6.146l-1.415-0.019c0,0.2,0,4.914,3.125,8.289  c1.888,2.039,3.913,2.87,7.233,2.87c7.34,0,10.97-6.49,14.17-12.21c1.51-2.69,2.94-5.24,4.53-6.67c4.99-4.48,10.15-9.11,10.15-19.61  C793.604,171.917,793.374,152.117,773.604,152.117z"}),l.a.createElement("polygon",{points:"804.908,201.531 812.765,193.531 825.461,180.604 825.461,180.604 838.891,166.93 838.891,166.93 840.004,165.796   847.174,158.495 845.034,156.393 839.896,161.624 839.896,161.624 837.722,163.837 837.722,163.837 834.892,166.719   834.892,166.719 832.729,168.921 832.729,168.921 818.57,183.338 809.88,192.187 809.88,192.187 799.034,203.231 801.174,205.332   803.925,202.532 803.925,202.532 "}),l.a.createElement("path",{d:"M839.597,170.492c0.102,0.902,0.111,1.505,0.111,1.625c0,9.17-4.24,12.97-9.16,17.38c-1.96,1.76-3.5,4.52-5.13,7.43  c-2.94,5.26-5.922,10.977-11.502,10.977c-3.402,0-4.313-0.397-6.208-2.292c-0.451-0.453-0.831-0.958-1.152-1.478l-1.447,1.473  c0.399,0.732,0.893,1.458,1.516,2.13c1.888,2.039,3.913,2.87,7.233,2.87c7.34,0,10.97-6.49,14.17-12.21  c1.51-2.69,2.94-5.24,4.53-6.67c4.99-4.48,10.15-9.11,10.15-19.61c0-0.059-0.024-1.804-0.548-4.235L839.597,170.492z"}),l.a.createElement("path",{d:"M804.896,172.117c0-0.05,0.62-4.307,2.75-8.568c2.79-5.59,8.002-8.432,15.062-8.432c6.891,0,10.985,2.762,13.423,6.059  l2.101-2.14c-2.896-3.785-7.661-6.92-15.524-6.92c-19.77,0-19.188,19.8-19.188,20L804.896,172.117L804.896,172.117z"}),l.a.createElement("path",{d:"M822.708,161.687c4.632,0,7.229,2.035,8.691,4.307l2.06-2.098c-1.856-2.787-5.091-5.209-10.751-5.209  c-10.62,0-13.43,8.78-13.43,13.33c-0.01,0.25-0.34,6.07,3.46,10.34c0.548,0.618,0.729,1.247,0.648,1.979l7.425-7.56  c-0.464-0.161-0.933-0.312-1.403-0.459c-3.53-1.12-7.466-2.549-6.64-7.34C813.648,165.897,816.058,161.687,822.708,161.687z"}),l.a.createElement("path",{d:"M832.155,181.505c2.37-2.626,3.29-5.282,3.632-7.133l-3.077,3.133c-0.349,1.018-0.871,2.058-1.661,3.003L832.155,181.505z"}),l.a.createElement("path",{d:"M815.098,198.357c0.04,0,0.08,0,0.11,0c2.93,0,5.8-3.09,8.77-9.45c0.704-1.505,1.195-2.836,1.486-4.025l-12.691,12.922  C813.517,198.162,814.312,198.338,815.098,198.357z"}),l.a.createElement("path",{d:"M857.5,157.362v48h68.75v-48H857.5z M871.119,184.737v-25.375h3.286v25.375h2.125v18.625h-7.535v-18.625H871.119z   M878.529,184.737h2.125v-25.375h5.411v44h-7.536V184.737z M888.065,159.362h5.411v25.375h2.125v18.625h-7.536V159.362z   M897.602,184.737h2.125v-25.375h3.286v25.375h2.125v18.625h-7.535v-18.625H897.602z M907.137,184.737h2.125v-25.375h3.286v25.375  h2.125v18.625h-7.536V184.737z M859.5,159.362h5.369v25.375h2.125v18.625H859.5V159.362z M924.25,203.362h-7.577v-18.625h2.125  v-25.375h5.452V203.362z"}),l.a.createElement("g",null,l.a.createElement("polygon",{points:"-421.569,177.979 -426.233,163.208 -429.591,173.085 -434.319,165.33 -437.268,169.644 -443.712,162.577    -441.496,160.556 -437.606,164.822 -434.174,159.803 -430.367,166.048 -426.127,153.579 -421.84,167.154 -417.795,151.671    -412.486,165.512 -408.769,158.754 -403.676,165.884 -399.929,159.986 -395.431,165.632 -397.777,167.501 -399.654,165.147    -403.532,171.249 -408.439,164.378 -412.972,172.621 -417.252,161.462  "})),l.a.createElement("g",null,l.a.createElement("polygon",{points:"-409.561,-58.915 -419.572,-82.993 -416.802,-84.144 -409.35,-66.222 -400.721,-84.005 -391.99,-66.004    -383.147,-84.22 -373.13,-60.145 -375.9,-58.992 -383.358,-76.917 -391.99,-59.132 -400.721,-77.132  "})),l.a.createElement("g",null,l.a.createElement("polygon",{points:"-287.095,-57.809 -304.842,-82.61 -302.403,-84.356 -290.095,-67.157 -290.096,-84.793 -275.842,-66.793    -275.839,-85.327 -258.719,-60.331 -261.194,-58.635 -272.841,-75.639 -272.842,-58.173 -287.096,-76.172  "})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-430.636-58.068c-3.541,0-4.659-5.833-6.075-13.218c-0.673-3.508-1.914-9.984-3.128-10.757   c-1.214,0.773-2.456,7.249-3.128,10.757c-1.416,7.385-2.534,13.218-6.075,13.218c-3.539,0-4.656-5.833-6.071-13.217   c-0.672-3.507-1.913-9.98-3.125-10.758c-1.214,0.776-2.455,7.25-3.127,10.758c-1.416,7.385-2.533,13.217-6.073,13.217   c-3.539,0-4.657-5.833-6.072-13.218c-0.685-3.572-1.958-10.22-3.192-10.794l0.067-2.988c3.539,0,4.656,5.833,6.071,13.217   c0.672,3.507,1.913,9.98,3.125,10.758c1.213-0.777,2.454-7.25,3.126-10.757c1.416-7.385,2.533-13.218,6.073-13.218   c3.539,0,4.657,5.833,6.072,13.218c0.672,3.507,1.912,9.98,3.125,10.757c1.214-0.774,2.456-7.25,3.128-10.758   c1.416-7.385,2.534-13.217,6.075-13.217s4.659,5.833,6.075,13.218c0.685,3.572,1.96,10.222,3.195,10.794L-430.636-58.068z"})),l.a.createElement("rect",{x:"-362.191",y:"157.027",width:"6.333",height:"19.085"}),l.a.createElement("rect",{x:"-351.913",y:"143.362",width:"6.333",height:"32.75"}),l.a.createElement("rect",{x:"-341.635",y:"130.112",width:"6.333",height:"46"}),l.a.createElement("rect",{x:"-331.358",y:"148.708",width:"6.333",height:"27.404"}),l.a.createElement("rect",{x:"-321.08",y:"137.942",width:"6.333",height:"38.17"}),l.a.createElement("rect",{x:"-310.802",y:"162.41",width:"6.333",height:"13.702"}),l.a.createElement("rect",{x:"-300.524",y:"157.027",width:"6.333",height:"19.085"}),l.a.createElement("g",null,l.a.createElement("path",{d:"M-1020.055-86.386c5.171-3.442,11.794-3.932,17.395-1.429l-2.85,3.21l11.721,2.405l-3.776-11.353l-3.014,3.395   c-6.704-3.368-14.845-2.916-21.14,1.276c-8.138,5.419-11.494,15.964-7.979,25.074l2.799-1.08   C-1029.911-72.698-1027.033-81.739-1020.055-86.386z"}),l.a.createElement("path",{d:"M-989.966-78.352l-2.799,1.08c3.013,7.809,0.135,16.85-6.844,21.497c-5.17,3.442-11.793,3.932-17.395,1.429l2.85-3.21   l-11.721-2.405l3.776,11.353l3.015-3.396c2.968,1.491,6.217,2.235,9.465,2.235c4.085,0,8.167-1.175,11.673-3.51   C-989.808-58.697-986.452-69.242-989.966-78.352z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M50,19.827c-16.637,0-30.173,13.536-30.173,30.173c0,16.638,13.536,30.173,30.173,30.173S80.173,66.638,80.173,50   C80.173,33.363,66.637,19.827,50,19.827z M50,77.173c-14.983,0-27.173-12.189-27.173-27.173S35.017,22.827,50,22.827   S77.173,35.017,77.173,50S64.983,77.173,50,77.173z"}),l.a.createElement("path",{d:"M55.5,26.818v5.349h-11v-5.349C33.993,29.301,26.172,38.734,26.172,50c0,13.16,10.668,23.828,23.828,23.828   c13.16,0,23.828-10.668,23.828-23.828C73.827,38.734,66.007,29.301,55.5,26.818z M33.484,51.93l-0.266,0.128l-3.912,1.875   l-1.035-2.16l3.912-1.875l0.266-0.128l0.017-0.295c0.064-1.111,0.716-2.095,1.703-2.567c0.407-0.195,0.84-0.294,1.287-0.294   c0.628,0,1.261,0.204,1.781,0.575l0.24,0.171l0.266-0.128l3.912-1.875l1.035,2.159l-3.912,1.875l-0.266,0.128l-0.017,0.295   c-0.064,1.111-0.716,2.095-1.703,2.567c-0.407,0.195-0.84,0.294-1.287,0.294c-0.628,0-1.261-0.204-1.781-0.575L33.484,51.93z    M42.769,57.906c0.435,1.024,0.286,2.195-0.389,3.056c-0.572,0.729-1.438,1.147-2.377,1.147c-0.166,0-0.334-0.013-0.498-0.04   l-0.291-0.047l-0.182,0.232l-2.677,3.414l-1.885-1.477l2.677-3.414l0.182-0.232l-0.115-0.272c-0.435-1.024-0.286-2.195,0.389-3.056   c0.572-0.729,1.438-1.147,2.377-1.147c0.166,0,0.334,0.013,0.498,0.04l0.291,0.047l0.182-0.232l2.677-3.414l1.885,1.478   l-2.677,3.414l-0.182,0.232L42.769,57.906z M51.456,66.597l-0.258,0.143v0.295v4.338h-2.395v-4.338V66.74l-0.258-0.143   c-0.974-0.538-1.579-1.551-1.579-2.645c0-1.094,0.605-2.107,1.579-2.645l0.258-0.143v-0.295v-4.338h2.395v4.338v0.295l0.258,0.143   c0.974,0.538,1.579,1.551,1.579,2.645C53.035,65.046,52.43,66.059,51.456,66.597z M63.645,65.669l-2.677-3.414l-0.182-0.232   l-0.291,0.047c-0.164,0.027-0.332,0.04-0.498,0.04c-0.939,0-1.805-0.418-2.377-1.147c-0.675-0.861-0.824-2.032-0.389-3.056   l0.115-0.272l-0.182-0.232l-2.677-3.414l1.885-1.478l2.677,3.414l0.182,0.232l0.291-0.047c0.164-0.027,0.332-0.04,0.498-0.04   c0.939,0,1.805,0.418,2.377,1.147c0.675,0.861,0.824,2.032,0.389,3.056l-0.115,0.272l0.182,0.232l2.677,3.414L63.645,65.669z    M66.782,52.057l-0.266-0.128l-0.24,0.171c-0.52,0.371-1.152,0.575-1.781,0.575c-0.447,0-0.88-0.099-1.287-0.294   c-0.986-0.473-1.639-1.456-1.703-2.567l-0.017-0.295l-0.266-0.128l-3.912-1.875l1.035-2.159l3.912,1.875l0.266,0.128l0.24-0.171   c0.52-0.371,1.152-0.575,1.781-0.575c0.447,0,0.88,0.099,1.287,0.294c0.986,0.473,1.639,1.456,1.703,2.567l0.017,0.295l0.266,0.128   l3.912,1.875l-1.035,2.16L66.782,52.057z"})),l.a.createElement("g",null,l.a.createElement("polygon",{points:"-345.613,-58.068 -356.915,-58.068 -356.915,-82.068 -362.191,-82.068 -362.191,-85.068 -353.915,-85.068    -353.915,-61.068 -348.613,-61.068 -348.613,-85.068 -337.481,-85.068 -337.481,-61.568 -331.671,-61.568 -331.671,-85.068    -320.54,-85.068 -320.54,-61.568 -315.941,-61.568 -315.941,-58.568 -323.54,-58.568 -323.54,-82.068 -328.671,-82.068    -328.671,-58.568 -340.481,-58.568 -340.481,-82.068 -345.613,-82.068  "})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-833.962-52.234c-5.517,0-9.726-3.466-12.172-10.023c-1.184-3.173-1.672-6.312-1.867-8.073h-20.625   c-3.009,0-5.553-1.053-7.562-3.13c-3.986-4.12-4.713-11.205-4.832-14.381c-19.44,1.561-19.67,33.775-19.67,34.108h-3   c0-0.372,0.276-37.167,24.154-37.167h1.548l-0.049,1.549c-0.003,0.093-0.247,9.417,4.009,13.81   c1.442,1.488,3.209,2.212,5.402,2.212h23.431l0.068,1.43c0.008,0.167,0.915,16.667,11.165,16.667V-52.234z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-748.533-54.65l-0.377,1.964c0.697,0.134,1.431,0.202,2.179,0.202v-2C-747.354-54.484-747.96-54.54-748.533-54.65z"}),l.a.createElement("path",{d:"M-759.411-65.35c0.36,1.435,0.8,2.782,1.306,4.004l1.848-0.766c-0.469-1.131-0.877-2.385-1.214-3.726L-759.411-65.35z"}),l.a.createElement("path",{d:"M-754.437-58.729l-1.637,1.148c0.899,1.282,1.929,2.339,3.06,3.142l1.157-1.631   C-752.8-56.74-753.668-57.635-754.437-58.729z"}),l.a.createElement("path",{d:"M-758.395-71.627l-0.045-0.953h-2.954v2h1.076c0.03,0.31,0.072,0.686,0.128,1.117l1.983-0.26   C-758.358-70.879-758.395-71.62-758.395-71.627z"}),l.a.createElement("path",{d:"M-788.615-76.882l-1.721,1.019c0.741,1.252,1.62,2.299,2.612,3.112l1.268-1.547   C-787.268-74.963-787.994-75.833-788.615-76.882z"}),l.a.createElement("path",{d:"M-790.868-83.585l-1.972,0.333c0.227,1.344,0.532,2.613,0.908,3.774l1.902-0.616   C-790.375-81.163-790.658-82.337-790.868-83.585z"}),l.a.createElement("path",{d:"M-783.542-72.833l-0.485,1.94c0.828,0.207,1.713,0.312,2.632,0.312h1.319v-2h-1.319   C-782.15-72.581-782.873-72.666-783.542-72.833z"}),l.a.createElement("rect",{x:"-776.339",y:"-72.581",width:"3.736",height:"2"}),l.a.createElement("rect",{x:"-768.867",y:"-72.581",width:"3.736",height:"2"}),l.a.createElement("path",{d:"M-791.267-87.625c-0.062-1.158,0-3.018,0-3.026l-1.039,0.012v-0.012c-0.106,0-0.203,0.014-0.308,0.015l-0.697,0.008   c0,0.001,0,0.02-0.001,0.026c-22.863,1.035-23.149,36.751-23.149,37.118h3c0-0.339,0.249-33.586,20.647-34.141H-791.267z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-721.096-82.177l1.613,1.182c0.758-1.036,1.579-1.977,2.438-2.796l-1.38-1.447   C-719.369-84.338-720.268-83.308-721.096-82.177z"}),l.a.createElement("path",{d:"M-715.179-87.743l1.04,1.708c1.044-0.636,2.16-1.15,3.315-1.528l-0.621-1.901   C-712.746-89.038-714.003-88.459-715.179-87.743z"}),l.a.createElement("path",{d:"M-727.277-67.536l1.949,0.447c0.293-1.275,0.625-2.52,0.985-3.698l-1.912-0.586   C-726.629-70.148-726.974-68.857-727.277-67.536z"}),l.a.createElement("path",{d:"M-728.584-59.73l1.988,0.22c0.142-1.284,0.318-2.566,0.525-3.811l-1.973-0.328   C-728.256-62.369-728.438-61.05-728.584-59.73z"}),l.a.createElement("path",{d:"M-724.929-75.13l1.854,0.749c0.492-1.216,1.03-2.372,1.601-3.434l-1.762-0.946   C-723.841-77.635-724.411-76.413-724.929-75.13z"}),l.a.createElement("path",{d:"M-728.978-53.734h2c0-0.015,0.001-0.728,0.066-1.941l-1.997-0.106C-728.979-54.488-728.978-53.734-728.978-53.734z"}),l.a.createElement("path",{d:"M-661.552-54.899l-0.377,1.964c0.698,0.134,1.432,0.202,2.18,0.202v-2C-660.371-54.734-660.979-54.789-661.552-54.899z"}),l.a.createElement("path",{d:"M-667.455-58.978l-1.637,1.149c0.9,1.282,1.931,2.339,3.06,3.141l1.158-1.631   C-665.818-56.989-666.686-57.884-667.455-58.978z"}),l.a.createElement("path",{d:"M-672.43-65.599c0.361,1.438,0.801,2.784,1.306,4.003l1.848-0.765c-0.468-1.129-0.876-2.383-1.214-3.727L-672.43-65.599z"}),l.a.createElement("path",{d:"M-671.413-71.876l-0.045-0.954h-2.954v2h1.075c0.03,0.31,0.072,0.687,0.129,1.118l1.982-0.261   C-671.377-71.128-671.413-71.869-671.413-71.876z"}),l.a.createElement("rect",{x:"-688.814",y:"-72.83",width:"3.601",height:"2"}),l.a.createElement("rect",{x:"-681.614",y:"-72.83",width:"3.601",height:"2"}),l.a.createElement("path",{d:"M-699.816-75.542c-4.256-4.393-4.183-14.765-4.18-14.858l-1.329,0.025V-90.4c-0.709,0-0.824-0.014-1.506,0.053   c-0.015,0.434-0.286,11.574,4.854,16.887c2.01,2.077,5.668,3.13,9.562,3.13v-0.5v-2v-0.31   C-695.558-72.83-698.374-74.054-699.816-75.542z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-614.292-76.95l-1.703,1.05c0.783,1.27,1.712,2.318,2.76,3.116l1.211-1.592C-612.876-75.023-613.638-75.89-614.292-76.95z   "}),l.a.createElement("path",{d:"M-616.647-83.773l-1.971,0.339c0.236,1.378,0.555,2.675,0.946,3.854l1.898-0.63   C-616.133-81.294-616.427-82.493-616.647-83.773z"}),l.a.createElement("path",{d:"M-617.094-89.369l0.033-1.032h-1.032c-0.709,0-1.414,0.034-2.096,0.101l0.195,1.99c0.297-0.029,0.598-0.051,0.902-0.066   c0.007,0.292,0.019,0.637,0.039,1.026l1.998-0.106C-617.117-88.615-617.094-89.361-617.094-89.369z"}),l.a.createElement("path",{d:"M-627.948-87.743l1.041,1.708c1.043-0.636,2.158-1.15,3.314-1.528l-0.621-1.901   C-625.517-89.038-626.773-88.459-627.948-87.743z"}),l.a.createElement("path",{d:"M-633.865-82.177l1.613,1.182c0.758-1.035,1.578-1.976,2.439-2.796l-1.381-1.447   C-632.138-84.337-633.038-83.307-633.865-82.177z"}),l.a.createElement("path",{d:"M-637.699-75.13l1.855,0.748c0.488-1.21,1.026-2.366,1.6-3.434l-1.762-0.946C-636.613-77.63-637.183-76.408-637.699-75.13z   "}),l.a.createElement("path",{d:"M-641.354-59.732l1.988,0.222c0.144-1.292,0.32-2.574,0.526-3.811l-1.973-0.328   C-641.024-62.377-641.206-61.059-641.354-59.732z"}),l.a.createElement("path",{d:"M-640.045-67.536l1.949,0.447c0.291-1.271,0.623-2.516,0.984-3.699l-1.912-0.585   C-639.399-70.144-639.743-68.853-640.045-67.536z"}),l.a.createElement("path",{d:"M-641.747-53.734h2c0-0.014,0.001-0.728,0.065-1.942l-1.998-0.105C-641.747-54.489-641.747-53.734-641.747-53.734z"}),l.a.createElement("path",{d:"M-574.321-54.9l-0.377,1.964c0.698,0.134,1.432,0.202,2.18,0.202v-2C-573.14-54.734-573.748-54.79-574.321-54.9z"}),l.a.createElement("path",{d:"M-580.224-58.979l-1.637,1.149c0.9,1.282,1.931,2.339,3.06,3.141l1.158-1.631   C-578.587-56.989-579.455-57.884-580.224-58.979z"}),l.a.createElement("path",{d:"M-585.199-65.6c0.361,1.438,0.801,2.784,1.306,4.003l1.848-0.765c-0.468-1.129-0.876-2.383-1.214-3.727L-585.199-65.6z"}),l.a.createElement("path",{d:"M-584.04-70.331c-0.151-1.155-0.225-2.993-0.225-3h-0.917h-1.002h-22.769l-0.562,3h23.462h0.871H-584.04z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-527.172-77.383l-1.721,1.021c0.743,1.253,1.622,2.3,2.613,3.111l1.268-1.547   C-525.821-75.462-526.549-76.332-527.172-77.383z"}),l.a.createElement("path",{d:"M-522.096-73.333l-0.486,1.94c0.828,0.207,1.713,0.312,2.631,0.312h1.32v-2h-1.32   C-520.707-73.081-521.428-73.166-522.096-73.333z"}),l.a.createElement("path",{d:"M-529.425-84.085l-1.973,0.335c0.229,1.349,0.535,2.618,0.909,3.773l1.902-0.616   C-528.929-81.657-529.212-82.832-529.425-84.085z"}),l.a.createElement("rect",{x:"-507.423",y:"-73.081",width:"3.736",height:"2"}),l.a.createElement("rect",{x:"-514.895",y:"-73.081",width:"3.736",height:"2"}),l.a.createElement("path",{d:"M-529.863-89.619l0.033-1.032h-1.032c-0.709,0-1.414,0.034-2.096,0.101l0.195,1.99c0.297-0.029,0.598-0.051,0.902-0.066   c0.007,0.292,0.019,0.637,0.039,1.026l1.998-0.106C-529.885-88.865-529.863-89.611-529.863-89.619z"}),l.a.createElement("path",{d:"M-552.813-67.786l1.949,0.447c0.291-1.271,0.623-2.516,0.984-3.699l-1.912-0.585   C-552.168-70.394-552.511-69.103-552.813-67.786z"}),l.a.createElement("path",{d:"M-554.123-59.982l1.988,0.222c0.144-1.292,0.32-2.574,0.526-3.811l-1.973-0.328   C-553.793-62.627-553.974-61.309-554.123-59.982z"}),l.a.createElement("path",{d:"M-550.468-75.38l1.855,0.748c0.488-1.21,1.026-2.366,1.6-3.434l-1.762-0.946C-549.382-77.88-549.952-76.658-550.468-75.38z   "}),l.a.createElement("path",{d:"M-546.634-82.427l1.613,1.182c0.758-1.035,1.578-1.976,2.439-2.796l-1.381-1.447   C-544.907-84.587-545.806-83.557-546.634-82.427z"}),l.a.createElement("path",{d:"M-540.717-87.993l1.041,1.708c1.043-0.636,2.158-1.15,3.314-1.528l-0.621-1.901   C-538.286-89.288-539.542-88.709-540.717-87.993z"}),l.a.createElement("path",{d:"M-554.515-53.984h2c0-0.014,0.001-0.728,0.065-1.942l-1.998-0.105C-554.515-54.739-554.515-53.984-554.515-53.984z"}),l.a.createElement("path",{d:"M-496.512-73.081h-1.438h-1h-0.498c0.009,0.194,0.24,5.882,1.989,10.572c2.446,6.558,6.655,10.024,12.172,10.024v-3   C-495.845-55.432-496.504-72.914-496.512-73.081z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-941.887-94.26l2.223,3.85c7.844,3.119,13.411,10.771,13.411,19.712c0,11.701-9.52,21.221-21.22,21.221   s-21.22-9.52-21.22-21.221c0-8.942,5.567-16.593,13.411-19.712l2.223-3.85c-10.67,2.53-18.634,12.131-18.634,23.563   c0,13.355,10.865,24.221,24.22,24.221s24.22-10.865,24.22-24.221C-923.253-82.13-931.218-91.731-941.887-94.26z"}),l.a.createElement("path",{d:"M-965.002-70.698c0,9.681,7.848,17.529,17.529,17.529s17.529-7.848,17.529-17.529c0-7.462-4.67-13.817-11.24-16.347   l-6.288-10.892l-6.288,10.892C-960.332-84.515-965.002-78.159-965.002-70.698z M-934.914-70.698c0,6.937-5.623,12.56-12.56,12.56   s-12.56-5.623-12.56-12.56c0-6.937,5.623-12.56,12.56-12.56S-934.914-77.634-934.914-70.698z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M-1097.062-64.348c-0.013,0-0.025-0.004-0.038-0.004v18.079h2v-18.078c-0.013,0-0.025,0.003-0.038,0.003H-1097.062z"}),l.a.createElement("path",{d:"M-1095.138-84.861c0.013,0,0.025,0.004,0.038,0.004v-7.331h-2v7.331c0.013,0,0.025-0.004,0.038-0.004H-1095.138z"}),l.a.createElement("path",{d:"M-1083.638-73.861c0.013,0,0.025,0.003,0.038,0.003v-18.33h-2v18.33c0.013,0,0.025-0.003,0.038-0.003H-1083.638z"}),l.a.createElement("path",{d:"M-1085.562-53.348c-0.013,0-0.025-0.004-0.038-0.004v7.079h2v-7.079c-0.013,0-0.025,0.004-0.038,0.004H-1085.562z"}),l.a.createElement("path",{d:"M-1074.062-60.348c-0.013,0-0.025-0.003-0.038-0.003v14.078h2v-14.078c-0.013,0-0.025,0.003-0.038,0.003H-1074.062z"}),l.a.createElement("path",{d:"M-1072.138-80.861c0.013,0,0.025,0.004,0.038,0.004v-11.331h-2v11.331c0.013,0,0.025-0.004,0.038-0.004H-1072.138z"}),l.a.createElement("path",{d:"M-1062.562-56.348c-0.013,0-0.025-0.004-0.038-0.004v10.079h2v-10.079c-0.013,0-0.025,0.004-0.038,0.004H-1062.562z"}),l.a.createElement("path",{d:"M-1060.638-76.861c0.013,0,0.025,0.003,0.038,0.003v-15.33h-2v15.33c0.013,0,0.025-0.003,0.038-0.003H-1060.638z"}),l.a.createElement("path",{d:"M-1049.138-79.487c0.013,0,0.025,0.004,0.038,0.004v-12.705h-2v12.705c0.013,0,0.025-0.004,0.038-0.004H-1049.138z"}),l.a.createElement("path",{d:"M-1051.062-58.974c-0.013,0-0.025-0.003-0.038-0.003v12.704h2v-12.705c-0.013,0-0.025,0.004-0.038,0.004H-1051.062z"}),l.a.createElement("path",{d:"M-1095.1-81.857L-1095.1-81.857c-0.013,0-0.025-0.004-0.038-0.004h-1.925c-0.013,0-0.025,0.004-0.038,0.004l0,0   c-1.065,0.021-1.926,0.89-1.926,1.96v10.584c0,1.07,0.861,1.94,1.926,1.961l0,0c0.013,0,0.025,0.004,0.038,0.004h1.925   c0.013,0,0.025-0.004,0.038-0.004l0,0c1.065-0.021,1.926-0.89,1.926-1.961v-10.584C-1093.174-80.967-1094.035-81.836-1095.1-81.857   z"}),l.a.createElement("path",{d:"M-1083.6-70.857L-1083.6-70.857c-0.013,0-0.025-0.004-0.038-0.004h-1.925c-0.013,0-0.025,0.004-0.038,0.004l0,0   c-1.065,0.021-1.926,0.89-1.926,1.96v10.584c0,1.07,0.861,1.94,1.926,1.961l0,0c0.013,0,0.025,0.004,0.038,0.004h1.925   c0.013,0,0.025-0.004,0.038-0.004l0,0c1.065-0.021,1.926-0.89,1.926-1.961v-10.584C-1081.674-69.967-1082.535-70.836-1083.6-70.857   z"}),l.a.createElement("path",{d:"M-1072.1-77.857L-1072.1-77.857c-0.013,0-0.025-0.004-0.038-0.004h-1.925c-0.013,0-0.025,0.004-0.038,0.004l0,0   c-1.065,0.021-1.926,0.89-1.926,1.96v10.584c0,1.07,0.861,1.94,1.926,1.961l0,0c0.013,0,0.025,0.004,0.038,0.004h1.925   c0.013,0,0.025-0.004,0.038-0.004l0,0c1.065-0.021,1.926-0.89,1.926-1.961v-10.584C-1070.174-76.967-1071.035-77.836-1072.1-77.857   z"}),l.a.createElement("path",{d:"M-1060.6-73.857L-1060.6-73.857c-0.013,0-0.025-0.004-0.038-0.004h-1.925c-0.013,0-0.025,0.004-0.038,0.004l0,0   c-1.065,0.021-1.926,0.89-1.926,1.96v10.584c0,1.07,0.861,1.94,1.926,1.961l0,0c0.013,0,0.025,0.004,0.038,0.004h1.925   c0.013,0,0.025-0.004,0.038-0.004l0,0c1.065-0.021,1.926-0.89,1.926-1.961v-10.584C-1058.674-72.967-1059.535-73.836-1060.6-73.857   z"}),l.a.createElement("path",{d:"M-1049.1-76.483L-1049.1-76.483c-0.013,0-0.025-0.004-0.038-0.004h-1.925c-0.013,0-0.025,0.004-0.038,0.004l0,0   c-1.065,0.021-1.926,0.89-1.926,1.96v10.584c0,1.07,0.861,1.94,1.926,1.961l0,0c0.013,0,0.025,0.004,0.038,0.004h1.925   c0.013,0,0.025-0.004,0.038-0.004l0,0c1.065-0.021,1.926-0.89,1.926-1.961v-10.584C-1047.174-75.593-1048.035-76.462-1049.1-76.483   z"})))},Re=n(75),Ae=n(210),Ve=function(){var e=le(function(e){return{inputDevices:e.inputDevices,isMidiClockInSelectorOpen:e.isMidiClockInSelectorOpen,isMidiInSelectorOpen:e.isMidiInSelectorOpen,midiInDevice:e.midiInDevice,outputDevices:e.outputDevices}},function(e){return e}),t=Object(a.a)(e,2),n=t[0],c=t[1],o=n.inputDevices,s=n.isMidiClockInSelectorOpen,u=n.isMidiInSelectorOpen,d=n.midiInDevice;n.outputDevices;Object(i.useEffect)(function(){Re.WebMidi.enable(function(e){e?console.error(e):(console.log("WebMidi enabled."),c.setInputDevices(Re.WebMidi.inputs),c.setOutputDevices(Re.WebMidi.outputs))},!0)},[]);var m=function(e){e.note.number,e.rawVelocity,e.type},h=function(e){},p=l.a.useState(null),v=Object(a.a)(p,2),f=v[0],g=v[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var n=t.currentTarget;g(n),c[e?"toggleMidiClockInSelector":"toggleMidiInSelector"]()}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var a=n.currentTarget;g(a);var r=o[e];c[t?"toggleMidiClockInSelector":"toggleMidiInSelector"](),t?(r.addListener("clock","all",h),c.setMidiClockInDevice(r)):(c.setMidiInDevice(r),r.addListener("noteon","all",m),r.addListener("noteoff","all",m))}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(je.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:E(!1)},l.a.createElement(Ne,null)),l.a.createElement(je.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:E(!0)},l.a.createElement(Ae.a,null)),l.a.createElement(Te.a,{id:"simple-menu",anchorEl:f,open:u||s,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){console.log("close",e?"toggleMidiClockInSelector":"toggleMidiInSelector"),c[e?"toggleMidiClockInSelector":"toggleMidiInSelector"](),g(null)}}(s)},o.map(function(e,t){var n=e.name;return l.a.createElement(Pe.a,{key:n,onClick:b(t,s),selected:u&&n===r.a.get(d,"name")},n)})))},Fe={decayDuration:5e3,exciteEnergy:.05,exciteDuration:1e3,fundamentalFreq:200,hilbertN:64,hilbMand:[],isControlPanelOpen:!0,isPlaying:!1,isRegenNeeded:!0,maxIters:4096,midiClock:0,midiClocksPerTick:24,panX:-.05,panY:0,partials:{},partialsCountMax:16,isSmooth:!1,tick:0,tickDuration:100,tickLastMillis:0,zoom:1.2},He=new AudioContext,_e=He.createGain();window.masterGain=_e,_e.gain.value=1,_e.connect(He.destination);var qe=function(e){e.state=Fe;var t;e.preload=function(){t=e.loadFont("JetBrainsMono-Regular.ttf")};var n,c,r,i,l=2*Math.PI,o=0;i=2,r=1,e.setup=function(){e.createCanvas(e._width,e._height),e.blendMode(e.ADD),e.colorMode(e.HSB,255),e.textFont(t)};var s=[];e.keyTyped=function(){if(console.log(e.key),"Enter"===e.key){var t=s.join("").split(":").map(function(e){return parseInt(e,10)});o=0;var l=Object(a.a)(t,3);if(r=l[0],i=l[1],!(o=l[2])){var u=Object(a.a)(t,2);i=u[0],r=u[1],o=0}console.log(r,i,o),console.log(c,n),s=[]}else s.push(e.key);return!1};var u,d=0,m=0,h=0,p=function(t){var a=t.freq,r=t.phase,i=void 0===r?0:r,o=t.hue,s=l/500;e.push(),e.translate(c/2,n/2);for(var d=0;d<l-s;d+=s)e.stroke(o,255,a&&50+50*Math.sin(d*a),100),m=(u=c+n)*Math.sin(d+i),h=u*Math.cos(d+i),e.line(0,0,m,h);e.pop()};e.draw=function(){e.clear(),e.background(0,0,0),n=e.height,c=e.width,d=e.millis()*(.001/r),p({freq:r,hue:0,phase:d}),p({freq:r*i/r,hue:90,phase:2*d}),p({freq:r*o/i,hue:180,phase:3*d}),e.blendMode(e.BLEND),e.fill(255),e.stroke(0),e.strokeWeight(4),e.textAlign(e.CENTER,e.CENTER),e.textSize(n/15),e.text(o?"".concat(r,":").concat(i,":").concat(o):"".concat(i,":").concat(r),c/2,n/2),e.blendMode(e.ADD)},e.toggleAudio=function(){e.setState(function(e){var t=e.isPlaying;return t||"running"===He.state||He.resume(),t&&"running"===He.state&&He.suspend(),Object(T.a)({},e,{isPlaying:!e.isPlaying})})}},We=function(){var e=de(qe,Fe),t=e.ref,n=e.sketchInstance;e.sketchState,e.setSketchState;return window.sketchInstance=n,Object(i.useEffect)(function(){document.title="Ratio Lightship"},[n]),l.a.createElement("div",{ref:t,style:{alignSelf:"start",background:"radial-gradient(circle, rgba(74,153,117,1) 0%, rgba(188,148,233,0.6943726953672094) 100%)",height:"100vh",width:"100vw"}})},Ke=n(19),Be=function(e){return function(t){if(t){var n=t.components.osc;n.onOsc=function(t){t.instrument;var a=t.note,c=t.vel;a===e&&(n.vel=c)},n.onTick=function(e,a){n.vel,r.a.has(n,"vel")&&t.setAttribute("material","opacity",.05+.75*n.vel/128)}}}},Ge=function(e){var t=e.darkened,n=void 0===t||t,a=e.n,c=e.position,r=void 0===c?{x:0,y:0,z:0}:c,i=e.scale,o=void 0===i?{x:1,y:1,z:1}:i;return l.a.createElement(Ke.Entity,{_ref:Be(a),material:{blending:n?"normal":"additive",color:me(a/12,.7,n?0:1),opacity:n?.5:.1},osc:{},position:r,primitive:"a-torus",radius:.1,"radius-tubular":.003,scale:o},l.a.createElement(Ke.Entity,{"look-at":"#camera",position:{x:0,y:0,z:0},scale:{x:2,y:2,z:2},text:{align:"center",color:me(a/12,.75,.5),font:"../JetBrainsMono-Regular-msdf.json",negate:!1,transparent:!0,value:d(a)}}))},Ue=function(){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),n=t[0],c=t[1];Object(i.useEffect)(function(){var e=function(e){"r"===e.key&&c(function(e){return!e})};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}},[]);var o=le(),s=Object(a.a)(o,1)[0].midiIn,u=r()(12).range().map(function(e){return r()(s).pickBy(function(t,n){return n%12===e}).values().sum()}).value();return l.a.createElement(Ke.Entity,{animation:"property: rotation; to: 0 ".concat(n?180:0," 0; dur: 500;"),position:"0 0 -3"},r()(12).range().filter(function(e){return e%2==0}).map(function(e){return{n:e,r:1.5,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var t=e.n,n=e.r,a=e.x,c=e.y;return l.a.createElement(Ge,{midiIn:u[t],n:t,position:"".concat(n*a," ").concat(n*c," 0")})}).value(),r()(48).range().filter(function(e){return!r.a.includes([6,7,0,1],e%8)}).map(function(e,t){return{i:t,n:(2*(t+1)+2*Math.floor(t/4))%12,r:1.5,x:Math.sin((e+.5)*Math.PI/24),y:Math.cos((e+.5)*Math.PI/24)}}).map(function(e){var t=e.n,n=e.r,a=e.x,c=e.y;return l.a.createElement(Ge,{midiIn:u[t],n:t,position:"".concat(n*a," ").concat(n*c," 0"),scale:"0.5 0.5 0.5"})}).value(),r()(12).range().filter(function(e){return e%2!=0}).map(function(e){return{n:(e+6)%12,r:1.2,x:-Math.sin(e*Math.PI/6),y:Math.cos(e*Math.PI/6)}}).map(function(e){var t=e.n,n=e.r,a=e.x,c=e.y;return l.a.createElement(Ge,{midiIn:u[t],n:t,position:"".concat(n*a," ").concat(n*c," 0")})}).value(),r()(48).range().filter(function(e){return!r.a.includes([4,5,6,7],e%8)}).map(function(e,t){return{i:t,n:(2*t+9+2*Math.floor(t/4))%12,r:1.2,x:Math.sin((e-1.5)*Math.PI/24),y:Math.cos((e-1.5)*Math.PI/24)}}).map(function(e){var t=e.n,n=e.r,a=e.x,c=e.y;return l.a.createElement(Ge,{midiIn:u[t],n:t,position:"".concat(n*a," ").concat(n*c," 0"),scale:"0.5 0.5 0.5"})}).value())},Xe=1.3305869973355013,Ye=2.152934986677507,Je=[[0,-Ye,Xe],[0,Ye,-Xe],[Ye,-Xe,0],[-Ye,Xe,0],[0,-Ye,-Xe],[0,Ye,Xe],[-Ye,-Xe,0],[Ye,Xe,0],[-Xe,0,Ye],[Xe,0,-Ye],[Xe,0,Ye],[-Xe,0,-Ye]],Ze=function e(t){var n=t.rep,a=void 0===n?1:n,c=t.sat,r=t.stack,i=void 0===r?[]:r,o=t.n,s=void 0===o?0:o;return l.a.createElement(Ke.Entity,{position:"0 0 0"},Je.map(function(e,t){return l.a.createElement(Ke.Entity,{key:t,color:me(t*(1/12),c||1,1),events:{click:function(){return console.log(t)}},primitive:"a-sphere",position:e.join(" "),scale:[1,1,1].map(function(e){return.3*e/(a*a)}).join(" ")})}),a<3&&Je.map(function(t,n){return l.a.createElement(Ke.Entity,{key:n,position:t.map(function(e){return 2*e}).join(" "),text:"color: ".concat(me((i.length?i[i.length-1]:n)*(1/12),1,1),"; align: center; value: ").concat([].concat(Object(f.a)(i),[n]).join(",")," - ").concat((s+n)%12,"; width: 5; zOffset: 0")},l.a.createElement(e,{rep:a+1,sat:.3,stack:[].concat(Object(f.a)(i),[n]),n:(s+n)%12}))}))},Qe=n(112),$e=n(82),et=n.n($e),tt=function(e){Object(Qe.a)(e);var t=Object(i.useState)(),n=Object(a.a)(t,2),c=n[0],o=n[1],s=Object(i.useCallback)(o,[]),u=oe(function(e){var t=e.tick;t%24===0&&console.log(t),c&&c.object3D.position.set(0,0,t/96*.75)}).reset;window.reset=u,Object(i.useEffect)(function(){var e=function(e){e.code,e.key};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}},[]);var d=[[2,5,9],[7,11,2],[0,4,7]];return l.a.createElement(Ke.Entity,{_ref:s,position:{x:0,y:0,z:-2},scale:{x:4,y:4,z:4}},r.a.range(50).map(function(e){return 50-e}).map(function(e){return{coll:d[e%d.length],z:-.75*e}}).map(function(e){var t=e.coll,n=e.z;return l.a.createElement(l.a.Fragment,{key:n},l.a.createElement(Ke.Entity,{material:{color:"#040404",opacity:.45},position:{x:0,y:0,z:n-.01},rotation:{x:90,y:0,z:0},primitive:"a-cylinder",scale:{x:1,y:.001,z:1}}),r.a.range(12).map(function(e){var t=e*(2*Math.PI)/12;return{n:e,x:.25*Math.sin(t),y:.25*Math.cos(t)}}).map(function(e){var a=e.n,c=e.s,i=void 0===c?.5:c,o=e.x,s=e.y;return l.a.createElement(Ge,{darkened:!r.a.includes(t,a),key:a,n:a,position:{x:o,y:s,z:n},scale:{x:i,y:i,z:i}})}))}))},nt=function(e){var t=e.noteToDimensions,n=Object(i.useState)(),c=Object(a.a)(n,2),o=c[0],s=c[1],u=le(),d=Object(a.a)(u,1)[0].midiInDevice,m=function(e){var t=Object(i.useRef)();return Object(i.useEffect)(function(){t.current=e}),t.current}(d);Object(i.useEffect)(function(){var e=function(e){var n=e.note.number,a=e.velocity,c=e.type,r=a/(.1+a),i=t(n),l=i.s,s=i.x,u=i.y,d=i.z;o.setAttribute("material","opacity",r),"noteon"===c&&(o.note=n,o.object3D.position.set(s,u,d+.01),o.object3D.scale.set(1.1*l,1.1*l,1.1*l),o.setAttribute("material","color",me(n/12,.75,.5)))};return o&&d&&(console.log("new midiInDevice: ",r.a.get(d,"name"),"prev: ",r.a.get(m,"name")),d.addListener("noteon","all",e),d.addListener("noteoff","all",e),d.addListener("controlchange","all",function(e){var t=e.controller.number,n=e.value;if(2===t){var a=n/128,c=a/(.1+a);o.setAttribute("material","opacity",c)}}),d.addListener("pitchbend","all",function(e){var n=e.value,a=o.note||0,c=t(a+2*n),r=c.s,i=c.x,l=c.y,s=c.z;o.object3D.position.set(i,l,s+.01),o.object3D.scale.set(1.1*r,1.1*r,1.1*r)})),function(){d&&(console.log("removing listeners for",r.a.get(d,"name")),d.removeListener("noteon"),d.removeListener("noteoff"),d.removeListener("controlchange"),d.removeListener("pitchbend"))}},[o,d,t,m]);var h=Object(i.useCallback)(s,[]);return l.a.createElement(Ke.Entity,{_ref:h,primitive:"a-sphere",material:{blending:"additive",color:me(1,0,1),opacity:0,transparent:!0},radius:.07})},at=new AudioContext;window.audioContext=at;var ct,rt=function(e){var t=e.depthMax,n=void 0===t?1:t,c=e.isAlwaysCounterClockwise,o=void 0!==c&&c,s=e.rMax,u=void 0===s?.75:s,d=e.rMin,m=void 0===d?0:d,h=e.noteRange,p=void 0===h?[34,99]:h,v=e.pcsHighlighted,f=void 0===v?[0,2,4,5,7,9,11]:v,g=Object(i.useState)(!0),E=Object(a.a)(g,2),b=E[0],M=E[1],y=Object(i.useState)(),k=Object(a.a)(y,2),C=k[0],z=k[1],w=Object(i.useState)(),x=Object(a.a)(w,2),S=x[0],O=x[1],j=function(e){var t=e/128,a=(b?1:1.5)*u-((b?1:1.5)*u-m)*t;return{n:e,s:.75-e/192,x:a*(b&&o?-1:1)*Math.sin(e*Math.PI/6+.01),y:a*Math.cos(e*Math.PI/6+.01),z:b?n-n*t:n*t}};Object(i.useEffect)(function(){var e=function(e){var t=e.code;"r"===e.key&&M(function(e){return!e}),"Space"===t&&at.resume()};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}},[]),Object(i.useEffect)(function(){console.log("el",S,"detector",C),at&&!C&&S?z(new et.a({context:at,interpolateFrequency:!0,onDebug:function(e,t){var n=e.frequency,a=e.detected,c=e.rms,i=c/(.1+c),l=function(e){return 69+12*Math.log2(e/440)}(n),o=j(l),s=o.s,u=o.x,d=o.y,m=o.z;S.setAttribute("material","opacity",a?i:0),S.object3D.position.set(u,d,m+.01),S.object3D.scale.set(s,s,s),r.a.isFinite(l)&&S.setAttribute("material","color",me(l/12,.5,1))},minCorrelationIncrease:.5,normalize:"rms",stopAfterDetection:!1,length:1024,minNote:32,maxNote:128,minPeriod:2,maxPeriod:512,start:!0})):C&&!S&&(C.stop(),C.destroy())},[at,C,b,S]);var I=Object(i.useCallback)(O,[]);return l.a.createElement(Ke.Entity,{events:{click:function(){at.resume()}},position:{x:0,y:0,z:-6},scale:{x:4,y:4,z:4}},r.a.range(p[0],p[1]+1).map(j).map(function(e){var t=e.n,n=e.s,a=e.x,c=e.y,i=e.z;return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(Ke.Entity,{line:{color:"black",opacity:.3,start:r.a.pick(j(t+.25),["x","y","z"]),end:r.a.pick(j(t+.75),["x","y","z"]),visible:t<p[1]}}),l.a.createElement(Ge,{darkened:!r.a.includes(f,t%12),n:t,position:{x:a,y:c,z:i},scale:{x:n,y:n,z:n}}))}),l.a.createElement(nt,{noteToDimensions:j}),l.a.createElement(Ke.Entity,{_ref:I,primitive:"a-sphere",material:{blending:"additive",color:me(1,0,1),opacity:0,transparent:!0},radius:.1}))},it=n(116).a.Flow,lt=function(){var e=function(){var e=Object(i.useState)(null),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(null),l=Object(a.a)(r,2),o=l[0],s=l[1];return{context:n,ref:Object(i.useCallback)(function(e){if(e){var t=new it.Renderer(e,it.Renderer.Backends.SVG);t.resize(e.clientWidth,e.clientHeight),c(t.getContext());var n=new ResizeObserver(function(e){var n=Object(a.a)(e,1)[0].contentRect,c=n.height,r=n.width;t.resize(r,c)});s(n),n.observe(e)}else o.disconnect()},[])}}(),t=e.context,n=e.ref;if(t){t.setStrokeStyle("white"),t.setFillStyle("white");var c=new it.Stave(50,0,1e4).addClef("treble").addKeySignature("Db").addTimeSignature("4/4").setContext(t).draw();window.VF=it,window.context=t,window.treble=c;var r=new it.Stave(50,60,1e4).addClef("bass").addTimeSignature("4/4").addKeySignature("Db").setContext(t).draw();new it.StaveConnector(c,r).setType(it.StaveConnector.type.BRACE).setContext(t).draw(),new it.StaveConnector(c,r).setType(it.StaveConnector.type.SINGLE_LEFT).setContext(t).draw()}return l.a.createElement("div",{style:{display:"block",width:"100%"}},l.a.createElement("div",{ref:n,style:{fill:"white",height:500,stroke:"white"}}))},ot=n(25),st=n.n(ot),ut=n(113),dt=function(e,t,n){return(ct=ct||new window.Hsluv).hsluv_h=(360*e+12.2)%360,ct.hsluv_s=100*t,ct.hsluv_l=100*n,ct.hsluvToHex(),ct.hex},mt=function(e,t,n){return(ct=ct||new window.Hsluv).hsluv_h=(360*e+12.2)%360,ct.hsluv_s=100*t,ct.hsluv_l=100*n,ct.hsluvToRgb(),[255*ct.rgb_r,255*ct.rgb_g,255*ct.rgb_b]},ht=[{label:"Nothing",val:[]},{label:"Diatonic Scale",val:[0,2,4,5,7,9,11]},{label:"Major Triad",val:[0,4,7]},{label:"Major 7",val:[0,4,7,11]},{label:"Minor Triad",val:[0,3,7]},{label:"Minor 7",val:[0,3,7,10]},{label:"Diminished Triad",val:[0,3,6]},{label:"Diminished 7",val:[0,4,7]},{label:"Augmented Triad",val:[0,4,8]}],pt=("D7/F# -- 2+47\u0aea/4 ".concat(" -- 2+7\u0aea/4 ","  -- 2+47\u0aea0 "),[2,5,8,11,14,17,20,23,26,28,26,23,20,17,14,11,8,5,2]),vt=[0,0,0,0,0,0,0,0,0,1,4,7,10,13,16,19,22,25,28],ft=[2,5,6,6,6,6,6,6,6,5,2],gt=pt.map(function(){return[]});r.a.range(5).forEach(function(e){var t=e+1,n=6*e,a=2*e,c=0;r.a.forEach(ft,function(e,i){r.a.range(e).forEach(function(e){gt[a+i][n+vt[i]+e]={boardNum:t,note:c},c++})})});var Et=function(e,t,n,a,c,r,i){return new Promise(function(l){console.log("setcolor",c,r,i),e.addOneTimeListener("sysex",function(){l()}),t.sendSysex([0,33,80],[n,1,a,c>>4,15&c,r>>4,15&r,i>>4,15&i])})},bt=function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return new Promise(function(l){console.log("setnote",e,t),e.addOneTimeListener("sysex",function(){l()}),t.sendSysex([0,33,80],[n,0,a,Math.min(127,Math.max(0,c)),r,i])})},Mt=[{label:"Harmonic table",val:function(e,t){return t%2===0?6*(8-t)+4*e:6*(8-t)+4*e-1}},{label:"Wicki-Hayden",val:function(e,t){return t%2===0?6*(12-t)+2*e+(e>12?24:0):6*(12-t)+2*e+1+(e>12?24:0)}}],yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[5*e%12/12,Math.max(0,1-e/256),t?.4:Math.max(.1,e/256)]},kt=function(e){var t=e.rows,n=void 0===t?pt:t,c=le(),o=Object(a.a)(c,1)[0],u=o.inputDevices,d=o.outputDevices,h=u.find(function(e){return"LM-Lumatone-in"===e.name}),p=d.find(function(e){return"LM-Lumatone-out"===e.name}),v=Object(i.useState)(0),g=Object(a.a)(v,2),E=g[0],b=g[1],M=Mt[E].val,y=Object(i.useState)(0),k=Object(a.a)(y,2),C=k[0],z=k[1],w=ht[C].val;return Object(i.useEffect)(function(){h&&p&&function(){var e=Object(ut.a)(st.a.mark(function e(){var t,c,i,l,o,s,u,d,m,v,g,E,b,y,k,C,z,w,x,S,O,j;return st.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,c=!1,i=void 0,e.prev=3,l=r.a.range(n.length)[Symbol.iterator]();case 5:if(t=(o=l.next()).done){e.next=44;break}s=o.value,u=vt[s],d=!0,m=!1,v=void 0,e.prev=11,g=r.a.range(u,n[s]+u)[Symbol.iterator]();case 13:if(d=(E=g.next()).done){e.next=27;break}if(b=E.value,!(y=gt[s][b])){e.next=24;break}return k=y.boardNum,C=y.note,z=M(b,s),w=mt.apply(void 0,Object(f.a)(yt(z))),x=Object(a.a)(w,3),S=x[0],O=x[1],j=x[2],e.next=22,Et(h,p,k,C,S,O,j);case 22:return e.next=24,bt(h,p,k,C,z);case 24:d=!0,e.next=13;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(11),m=!0,v=e.t0;case 33:e.prev=33,e.prev=34,d||null==g.return||g.return();case 36:if(e.prev=36,!m){e.next=39;break}throw v;case 39:return e.finish(36);case 40:return e.finish(33);case 41:t=!0,e.next=5;break;case 44:e.next=50;break;case 46:e.prev=46,e.t1=e.catch(3),c=!0,i=e.t1;case 50:e.prev=50,e.prev=51,t||null==l.return||l.return();case 53:if(e.prev=53,!c){e.next=56;break}throw i;case 56:return e.finish(53);case 57:return e.finish(50);case 58:case"end":return e.stop()}},e,null,[[3,46,50,58],[11,29,33,41],[34,,36,40],[51,,53,57]])}));return function(){return e.apply(this,arguments)}}()().catch(function(e){return console.log(e)})},[E,C,h,p]),l.a.createElement("div",{style:{display:"block",flexShrink:0}},l.a.createElement("select",{value:E,onChange:function(e){return b(parseInt(e.target.value,10))}},Mt.map(function(e,t){var n=e.label;return l.a.createElement("option",{key:t,value:t},n)})),l.a.createElement("select",{value:C,onChange:function(e){return z(parseInt(e.target.value,10))}},ht.map(function(e,t){var n=e.label;return l.a.createElement("option",{key:t,value:t},n)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),r.a.range(n.length).map(function(e){var t=e%2===1,a=vt[e];return l.a.createElement(l.a.Fragment,null,[].concat(Object(f.a)(r.a.range(a).map(function(e){return l.a.createElement(s,{key:e,isOdd:t},"\xa0")})),Object(f.a)(r.a.range(a,n[e]+a).map(function(n){var a=M(n,e),c=r.a.includes(w,a%12);return l.a.createElement(m,{key:n,n:a,isOdd:t,showOctave:!0,style:{border:"solid 1px",borderRadius:"50%",color:c?"white":"grey",backgroundColor:dt.apply(void 0,Object(f.a)(yt(a,c)))}})}))),l.a.createElement("br",null))}))},Ct=function(){return l.a.createElement(g,{fretCount:18,fretMarkers:[0,5,7,10,12],tuning:[7,4,0,9]})},zt=[["Mandelbrot Muse","/mandelbrot",we],["Mod12 Multiplication Tables","/multTableMod12",y],["OSC Dataviz","/osc",j.a,!0],["PC Number Notepad","/numpadMod12",S],["PC Tonnetz","/tonnetz",kt],["Ratio Lightship","/ratioLightship",We],["Staff","/staff",lt],["Strings PCs - Banjo","/banjo",p],["Strings PCs - Guitar","/guitar",b],["Strings PCs - Mandolin","/mandolin",xe],["Strings PCs - Ukulele","/ukulele",Ct]],wt=[["Coltrane Circle","/vr/coltrane",Ue],["Dod","/vr/dod",Ze],["PitchClassCollections","/vr/pitchClassCollections",tt],["PitchClassSpiral","/vr/pitchClassSpiral",rt]],xt=function(){return l.a.createElement(Ke.Entity,{primitive:"a-camera",id:"camera",position:{x:0,y:0,z:0},"look-controls":!0,"wasd-controls":{acceleration:25}})},St=n(44),Ot=function(e){e.match.path;return l.a.createElement(Ke.Scene,null,l.a.createElement("a-assets",null),l.a.createElement(St.c,null,wt.map(function(e,t){var n=Object(a.a)(e,3),c=(n[0],n[1]),r=n[2];return l.a.createElement(St.a,{component:r,key:t,path:c})})),l.a.createElement(xt,null),l.a.createElement(Ke.Entity,{id:"leftHand","oculus-touch-controls":"hand: left"}),l.a.createElement(Ke.Entity,{id:"rightHand","oculus-touch-controls":"hand: right"}))},jt=n(213),It=n(214),Dt=n(221),Lt=n(57),Tt=n(117),Pt=n(211),Nt=n(215),Rt=n(216),At=function e(t){return t>2?e(t/2):t<1?e(2*t):t};window.intToRation=function(e){return Object(Rt.a)(At(e))};!function e(){if("undefined"!==typeof AFRAME){var t={host:window.location.hostname,port:"8080",secure:!0},n=new j.a({plugin:new j.a.WebsocketClientPlugin(t)});n.open(),window.osc=n,window.AFRAME.registerComponent("midi",{init:function(){var e=this;this._onOscId=n.on("/midi/*",function(t){var n=t.address,c=Object(a.a)(t.args,2),i=c[0],l=c[1],o=r.a.last(n.split("/"));e.onOsc&&e.onOsc({instrument:o,note:i,vel:l})})},tick:function(e,t){this.onTick&&this.onTick(e,t)},remove:function(){n.off("/midi/*",this._onOscId)}}),window.AFRAME.registerComponent("osc",{init:function(){var e=this;this._onOscId=n.on("/midi/*",function(t){var n=t.address,c=Object(a.a)(t.args,2),i=c[0],l=c[1],o=r.a.last(n.split("/"));e.onOsc&&e.onOsc({instrument:o,note:i,vel:l})})},tick:function(e,t){this.onTick&&this.onTick(e,t)},remove:function(){n.off("/midi/*",this._onOscId)}})}else setTimeout(e,100)}();D.a.render(l.a.createElement(function(){var e={palette:{action:{active:"#600"},primary:{main:"#c0e"},type:"dark"}},t=l.a.useMemo(function(){return Object(Tt.a)(e)},[!0]),n=l.a.useState(null),c=Object(a.a)(n,2),r=c[0],i=c[1],o=function(){return i(null)};return l.a.createElement(Pt.a,{theme:t},l.a.createElement(v.a,null),l.a.createElement(Lt.a,{basename:"/aframe-musicality"},l.a.createElement(St.a,{path:"/",exact:!0,component:M}),l.a.createElement(St.a,{path:"/vr",component:Ot}),zt.map(function(e,t){var n=Object(a.a)(e,3),c=(n[0],n[1]),r=n[2];return l.a.createElement(St.a,{component:r,key:t,path:c})}),l.a.createElement(jt.a,{color:"transparent",onClick:function(){},position:"fixed",style:{top:"auto",bottom:0}},l.a.createElement(It.a,null,l.a.createElement(je.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(e){var t=e.currentTarget;return i(t)}},l.a.createElement(Nt.a,null)),l.a.createElement(Te.a,{anchorEl:r,open:!!r,onClose:o},l.a.createElement(Pe.a,null,l.a.createElement(Dt.a,{component:Lt.b,style:{color:"lightgrey"},onClick:o,to:"/"},"Introduction")),l.a.createElement(Pe.a,{disabled:!0,divider:!0},"2D"),zt.map(function(e,t){var n=Object(a.a)(e,4),c=n[0],r=n[1];return n[2],!n[3]&&l.a.createElement(Pe.a,{key:t},l.a.createElement(Dt.a,{color:"primary",component:Lt.b,onClick:o,to:r},c))}),l.a.createElement(Pe.a,{disabled:!0,divider:!0},"VR"),wt.map(function(e,t){var n=Object(a.a)(e,2),c=n[0],r=n[1];return l.a.createElement(Pe.a,{key:t},l.a.createElement(Dt.a,{color:"secondary",component:Lt.b,onClick:o,to:r},c))})),l.a.createElement(Ve,null),l.a.createElement(Le,null)))))},null),document.querySelector("#sceneContainer"))}},[[123,1,2]]]);
//# sourceMappingURL=main.060916e2.chunk.js.map