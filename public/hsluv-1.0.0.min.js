"use strict";(()=>{var h=class{constructor(){this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}static fromLinear(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}static toLinear(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}static yToL(t){return t<=h.epsilon?t/h.refY*h.kappa:116*Math.pow(t/h.refY,1/3)-16}static lToY(t){return t<=8?h.refY*t/h.kappa:h.refY*Math.pow((t+16)/116,3)}static rgbChannelToHex(t){let i=Math.round(t*255),s=i%16,r=(i-s)/16|0;return h.hexChars.charAt(r)+h.hexChars.charAt(s)}static hexToRgbChannel(t,i){let s=h.hexChars.indexOf(t.charAt(i)),r=h.hexChars.indexOf(t.charAt(i+1));return(s*16+r)/255}static distanceFromOriginAngle(t,i,s){let r=i/(Math.sin(s)-t*Math.cos(s));return r<0?1/0:r}static distanceFromOrigin(t,i){return Math.abs(i)/Math.sqrt(Math.pow(t,2)+1)}static min6(t,i,s,r,l,c){return Math.min(t,Math.min(i,Math.min(s,Math.min(r,Math.min(l,c)))))}rgbToHex(){this.hex="#",this.hex+=h.rgbChannelToHex(this.rgb_r),this.hex+=h.rgbChannelToHex(this.rgb_g),this.hex+=h.rgbChannelToHex(this.rgb_b)}hexToRgb(){this.hex=this.hex.toLowerCase(),this.rgb_r=h.hexToRgbChannel(this.hex,1),this.rgb_g=h.hexToRgbChannel(this.hex,3),this.rgb_b=h.hexToRgbChannel(this.hex,5)}xyzToRgb(){this.rgb_r=h.fromLinear(h.m_r0*this.xyz_x+h.m_r1*this.xyz_y+h.m_r2*this.xyz_z),this.rgb_g=h.fromLinear(h.m_g0*this.xyz_x+h.m_g1*this.xyz_y+h.m_g2*this.xyz_z),this.rgb_b=h.fromLinear(h.m_b0*this.xyz_x+h.m_b1*this.xyz_y+h.m_b2*this.xyz_z)}rgbToXyz(){let t=h.toLinear(this.rgb_r),i=h.toLinear(this.rgb_g),s=h.toLinear(this.rgb_b);this.xyz_x=.41239079926595*t+.35758433938387*i+.18048078840183*s,this.xyz_y=.21263900587151*t+.71516867876775*i+.072192315360733*s,this.xyz_z=.019330818715591*t+.11919477979462*i+.95053215224966*s}xyzToLuv(){let t=this.xyz_x+15*this.xyz_y+3*this.xyz_z,i=4*this.xyz_x,s=9*this.xyz_y;t!==0?(i/=t,s/=t):(i=NaN,s=NaN),this.luv_l=h.yToL(this.xyz_y),this.luv_l===0?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(i-h.refU),this.luv_v=13*this.luv_l*(s-h.refV))}luvToXyz(){if(this.luv_l===0){this.xyz_x=0,this.xyz_y=0,this.xyz_z=0;return}let t=this.luv_u/(13*this.luv_l)+h.refU,i=this.luv_v/(13*this.luv_l)+h.refV;this.xyz_y=h.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*t/((t-4)*i-t*i),this.xyz_z=(9*this.xyz_y-15*i*this.xyz_y-i*this.xyz_x)/(3*i)}luvToLch(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{let t=Math.atan2(this.luv_v,this.luv_u);this.lch_h=t*180/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}lchToLuv(){let t=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(t)*this.lch_c,this.luv_v=Math.sin(t)*this.lch_c}calculateBoundingLines(t){let i=Math.pow(t+16,3)/1560896,s=i>h.epsilon?i:t/h.kappa,r=s*(284517*h.m_r0-94839*h.m_r2),l=s*(838422*h.m_r2+769860*h.m_r1+731718*h.m_r0),c=s*(632260*h.m_r2-126452*h.m_r1),n=s*(284517*h.m_g0-94839*h.m_g2),o=s*(838422*h.m_g2+769860*h.m_g1+731718*h.m_g0),e=s*(632260*h.m_g2-126452*h.m_g1),g=s*(284517*h.m_b0-94839*h.m_b2),_=s*(838422*h.m_b2+769860*h.m_b1+731718*h.m_b0),a=s*(632260*h.m_b2-126452*h.m_b1);this.r0s=r/c,this.r0i=l*t/c,this.r1s=r/(c+126452),this.r1i=(l-769860)*t/(c+126452),this.g0s=n/e,this.g0i=o*t/e,this.g1s=n/(e+126452),this.g1i=(o-769860)*t/(e+126452),this.b0s=g/a,this.b0i=_*t/a,this.b1s=g/(a+126452),this.b1i=(_-769860)*t/(a+126452)}calcMaxChromaHpluv(){let t=h.distanceFromOrigin(this.r0s,this.r0i),i=h.distanceFromOrigin(this.r1s,this.r1i),s=h.distanceFromOrigin(this.g0s,this.g0i),r=h.distanceFromOrigin(this.g1s,this.g1i),l=h.distanceFromOrigin(this.b0s,this.b0i),c=h.distanceFromOrigin(this.b1s,this.b1i);return h.min6(t,i,s,r,l,c)}calcMaxChromaHsluv(t){let i=t/360*Math.PI*2,s=h.distanceFromOriginAngle(this.r0s,this.r0i,i),r=h.distanceFromOriginAngle(this.r1s,this.r1i,i),l=h.distanceFromOriginAngle(this.g0s,this.g0i,i),c=h.distanceFromOriginAngle(this.g1s,this.g1i,i),n=h.distanceFromOriginAngle(this.b0s,this.b0i,i),o=h.distanceFromOriginAngle(this.b1s,this.b1i,i);return h.min6(s,r,l,c,n,o)}hsluvToLch(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);let t=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=t/100*this.hsluv_s}this.lch_h=this.hsluv_h}lchToHsluv(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);let t=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/t*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}hpluvToLch(){if(this.hpluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hpluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hpluv_l,this.calculateBoundingLines(this.hpluv_l);let t=this.calcMaxChromaHpluv();this.lch_c=t/100*this.hpluv_p}this.lch_h=this.hpluv_h}lchToHpluv(){if(this.lch_l>99.9999999)this.hpluv_p=0,this.hpluv_l=100;else if(this.lch_l<1e-8)this.hpluv_p=0,this.hpluv_l=0;else{this.calculateBoundingLines(this.lch_l);let t=this.calcMaxChromaHpluv();this.hpluv_p=this.lch_c/t*100,this.hpluv_l=this.lch_l}this.hpluv_h=this.lch_h}hsluvToRgb(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hpluvToRgb(){this.hpluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hsluvToHex(){this.hsluvToRgb(),this.rgbToHex()}hpluvToHex(){this.hpluvToRgb(),this.rgbToHex()}rgbToHsluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHsluv()}rgbToHpluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHpluv()}hexToHsluv(){this.hexToRgb(),this.rgbToHsluv()}hexToHpluv(){this.hexToRgb(),this.rgbToHpluv()}};h.hexChars="0123456789abcdef";h.refY=1;h.refU=.19783000664283;h.refV=.46831999493879;h.kappa=903.2962962;h.epsilon=.0088564516;h.m_r0=3.240969941904521;h.m_r1=-1.537383177570093;h.m_r2=-.498610760293;h.m_g0=-.96924363628087;h.m_g1=1.87596750150772;h.m_g2=.041555057407175;h.m_b0=.055630079696993;h.m_b1=-.20397695888897;h.m_b2=1.056971514242878;window.Hsluv=h;})();
